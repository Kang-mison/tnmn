!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=44)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return s}),r.d(e,"d",function(){return a}),r.d(e,"c",function(){return c});var n=r(41),i=r.n(n);function o(t,e){var r=e.api_key,n=e.visitor_id,o=e.session_id,s=e.url,a=e.tabId;return i()(t+"/v2/user",{path:"/mirror-socket",query:"api_key=".concat(r,"&visitor_id=").concat(n,"&session_id=").concat(o,"&tabId=").concat(a,"&url=").concat(encodeURIComponent(s),"&_v=")+"a336a4a87d6d6dcc3616876756602848470abfb8",reconnection:!0,reconnectionAttempts:5,transports:["websocket"]})}function s(t){var e=Object.getPrototypeOf(t);Object.getOwnPropertyNames(e).forEach(function(e){"constructor"!==e&&(t[e]=t[e].bind(t))})}function a(t){if(Blob&&"size"in Blob.prototype)return new Blob([t],{type:"text/plain"}).size;var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)}function c(){return"undefined"!=typeof navigator&&(/iPad|iPhone|iPod/.test(navigator.userAgent||"")||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}},function(t,e){t.exports=function(){return function(){}}},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],s.set(o,i),i+=o.length;return s}},s={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(n)},function(t,e,r){var n,i=r(68),o=r(33),s=r(67),a=r(66),c=r(65);"undefined"!=typeof ArrayBuffer&&(n=r(64));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=u||h;e.protocol=3;var f=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=i(f),p={type:"error",data:"parser error"},v=r(63);function y(t,e,r){for(var n=new Array(t.length),i=a(t.length,r),o=function(t,r,i){e(r,function(e,r){n[t]=r,i(e,n)})},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(t,r,n,i){"function"==typeof r&&(i=r,r=!1),"function"==typeof n&&(i=n,n=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=f[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}(t,r,i);if(void 0!==v&&o instanceof v)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(l)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){e.encodePacket({type:t.type,data:i.result},r,!0,n)},i.readAsArrayBuffer(t.data)}(t,r,n);var i=new Uint8Array(1);i[0]=f[t.type];var o=new v([i.buffer,t.data]);return n(o)}(t,r,i);if(o&&o.base64)return function(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}(t,i);var s=f[t.type];return void 0!==t.data&&(s+=n?c.encode(String(t.data),{strict:!1}):String(t.data)),i(""+s)},e.encodeBase64Packet=function(t,r){var n,i="b"+e.packets[t.type];if(void 0!==v&&t.data instanceof v){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];r(i+t)},o.readAsDataURL(t.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];n=String.fromCharCode.apply(null,a)}return i+=btoa(n),r(i)},e.decodePacket=function(t,r,n){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return p;var i=t.charAt(0);return Number(i)==i&&d[i]?t.length>1?{type:d[i],data:t.substring(1)}:{type:d[i]}:p}i=new Uint8Array(t)[0];var o=s(t,1);return v&&"blob"===r&&(o=new v([o])),{type:d[i],data:o}},e.decodeBase64Packet=function(t,e){var r=d[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=n.decode(t.substr(1));return"blob"===e&&v&&(i=new v([i])),{type:r,data:i}},e.encodePayload=function(t,r,n){"function"==typeof r&&(n=r,r=null);var i=o(t);if(r&&i)return v&&!l?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n);if(!t.length)return n("0:");y(t,function(t,n){e.encodePacket(t,!!i&&r,!1,function(t){n(null,function(t){return t.length+":"+t}(t))})},function(t,e){return n(e.join(""))})},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);var i;if("function"==typeof r&&(n=r,r=null),""===t)return n(p,0,1);for(var o,s,a="",c=0,u=t.length;c<u;c++){var h=t.charAt(c);if(":"===h){if(""===a||a!=(o=Number(a)))return n(p,0,1);if(a!=(s=t.substr(c+1,o)).length)return n(p,0,1);if(s.length){if(i=e.decodePacket(s,r,!1),p.type===i.type&&p.data===i.data)return n(p,0,1);if(!1===n(i,c+o,u))return}c+=o,a=""}else a+=h}return""!==a?n(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){if(!t.length)return r(new ArrayBuffer(0));y(t,function(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})},function(t,e){var n=e.reduce(function(t,e){var r;return t+(r="string"==typeof e?e.length:e.byteLength).toString().length+r+2},0),i=new Uint8Array(n),o=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}i[o++]=e?0:1;var a=r.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),r(i.buffer)})},e.encodePayloadAsBlob=function(t,r){y(t,function(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,v){var a=new v([e.buffer,s.buffer,t]);r(null,a)}})},function(t,e){return r(new v(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u="",h=1;255!==a[h];h++){if(u.length>310)return n(p,0,1);u+=a[h]}i=s(i,2+u.length),u=parseInt(u);var l=s(i,0,u);if(c)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var f=new Uint8Array(l);l="";for(h=0;h<f.length;h++)l+=String.fromCharCode(f[h])}o.push(l),i=s(i,u)}var d=o.length;o.forEach(function(t,i){n(e.decodePacket(t,r,!0),i,d)})}},function(t,e,r){(function(e){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=h||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return f.Date.now()};function _(t,e,n){var i,o,s,a,c,u,h=0,l=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError(r);function _(e){var r=i,n=o;return i=o=void 0,h=e,a=t.apply(n,r)}function g(t){var r=t-u;return void 0===u||r>=e||r<0||f&&t-h>=s}function w(){var t=y();if(g(t))return k(t);c=setTimeout(w,function(t){var r=e-(t-u);return f?v(r,s-(t-h)):r}(t))}function k(t){return c=void 0,d&&i?_(t):(i=o=void 0,a)}function E(){var t=y(),r=g(t);if(i=arguments,o=this,u=t,r){if(void 0===c)return function(t){return h=t,c=setTimeout(w,e),l?_(t):a}(u);if(f)return c=setTimeout(w,e),_(u)}return void 0===c&&(c=setTimeout(w,e)),a}return e=m(e)||0,b(n)&&(l=!!n.leading,s=(f="maxWait"in n)?p(m(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),E.cancel=function(){void 0!==c&&clearTimeout(c),h=0,i=u=o=c=void 0},E.flush=function(){return void 0===c?a:k(y())},E}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}(t))return n;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(r);return b(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),_(t,e,{leading:i,maxWait:e,trailing:o})}}).call(this,r(0))},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e,r){var n;"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=this);var i=r(84),o=r(83),s=r(35),a=r(82),c=r(80);function u(){}var h=e=t.exports=function(t,r){return"function"==typeof r?new e.Request("GET",t).end(r):1==arguments.length?new e.Request("GET",t):new e.Request(t,r)};e.Request=_,h.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var l="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function f(t){if(!s(t))return t;var e=[];for(var r in t)d(e,r,t[r]);return e.join("&")}function d(t,e,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){d(t,e,r)});else if(s(r))for(var n in r)d(t,e+"["+n+"]",r[n]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));else null===r&&t.push(encodeURIComponent(e))}function p(t){for(var e,r,n={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1==(r=(e=i[o]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function v(t){return/[\/+]json($|[^-\w])/.test(t)}function y(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,r,n,i,o=t.split(/\r?\n/),s={},a=0,c=o.length;a<c;++a)-1!==(e=(r=o[a]).indexOf(":"))&&(n=r.slice(0,e).toLowerCase(),i=l(r.slice(e+1)),s[n]=i);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function _(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,n=null;try{n=new y(r)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",n);try{r._isResponseOK(n)||(t=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=n,t.status=n.status,r.callback(t,n)):r.callback(null,n)})}function b(t,e,r){var n=h("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}h.serializeObject=f,h.parseString=p,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse},a(y.prototype),y.prototype._parseBody=function(t){var e=h.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&v(this.type)&&(e=h.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},y.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i},h.Response=y,i(_.prototype),o(_.prototype),_.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},_.prototype.accept=function(t){return this.set("Accept",h.types[t]||t),this},_.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,r,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},_.prototype.query=function(t){return"string"!=typeof t&&(t=f(t)),t&&this._query.push(t),this},_.prototype.attach=function(t,e,r){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},_.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},_.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},_.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},_.prototype.buffer=_.prototype.ca=_.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},_.prototype.pipe=_.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},_.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},_.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||u,this._finalizeQueryString(),this._end()},_.prototype._end=function(){var t=this,e=this.xhr=h.getXHR(),r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==r){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.onprogress=n.bind(null,"download"),e.upload&&(e.upload.onprogress=n.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"],o=this._serializer||h.serialize[i?i.split(";")[0]:""];!o&&v(i)&&(o=h.serialize["application/json"]),o&&(r=o(r))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==r?r:null),this},h.agent=function(){return new c},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){c.prototype[t.toLowerCase()]=function(e,r){var n=new h.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}),c.prototype.del=c.prototype.delete,h.get=function(t,e,r){var n=h("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},h.head=function(t,e,r){var n=h("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},h.options=function(t,e,r){var n=h("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.del=b,h.delete=b,h.patch=function(t,e,r){var n=h("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.post=function(t,e,r){var n=h("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.put=function(t,e,r){var n=h("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){var n=r(4),i=r(10);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(e){var n=r(70);t.exports=function(t){var r=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,r(0))},function(t,e,r){r(2)("socket.io-parser");var n=r(78),i=r(33),o=r(73),s=r(32),a=r(31);function c(){}function u(t){var r=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data&&(r+=JSON.stringify(t.data)),r}function h(){this.reconstructor=null}function l(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:e.ERROR,data:"parser error: "+t}}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h,c.prototype.encode=function(t,r){(t.type!==e.EVENT&&t.type!==e.ACK||!i(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var r=o.deconstructPacket(t),n=u(r.packet),i=r.buffers;i.unshift(n),e(i)})}(t,r):r([u(t)])},n(h.prototype),h.prototype.add=function(t){var r;if("string"==typeof t)r=function(t){var r=0,n={type:Number(t.charAt(0))};if(null==e.types[n.type])return f("unknown packet type "+n.type);if(e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type){for(var i="";"-"!==t.charAt(++r)&&(i+=t.charAt(r),r!=t.length););if(i!=Number(i)||"-"!==t.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(r+1))for(n.nsp="";++r;){var o=t.charAt(r);if(","===o)break;if(n.nsp+=o,r===t.length)break}else n.nsp="/";var a=t.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=t.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=t.charAt(r),r===t.length)break}n.id=Number(n.id)}if(t.charAt(++r)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(r)),u=!1!==c&&(n.type===e.ERROR||s(c));if(!u)return f("invalid payload");n.data=c}return n}(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new l(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){(function(e,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,s=void 0,a=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(s?s(v):y())};var c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<i;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}i=0}var y=void 0;function _(t,e){var r=this,n=new this.constructor(g);void 0===n[m]&&I(n);var i=r._state;if(i){var o=arguments[i-1];a(function(){return N(i,n,o,r._result)})}else R(r,n,t,e);return n}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(g);return O(e,t),e}y=l?function(){return e.nextTick(v)}:h?function(){var t=0,e=new h(v),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():f?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:d()}catch(t){return d()}}():d();var m=Math.random().toString(36).substring(2);function g(){}var w=void 0,k=1,E=2;function S(e,r,n){r.constructor===e.constructor&&n===_&&r.constructor.resolve===b?function(t,e){e._state===k?A(t,e._result):e._state===E?C(t,e._result):R(e,void 0,function(e){return O(t,e)},function(e){return C(t,e)})}(e,r):void 0===n?A(e,r):t(n)?function(t,e,r){a(function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?O(t,r):A(t,r))},function(e){n||(n=!0,C(t,e))},t._label);!n&&i&&(n=!0,C(t,i))},t)}(e,r,n):A(e,r)}function O(t,e){if(t===e)C(t,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)){var r=void 0;try{r=e.then}catch(e){return void C(t,e)}S(t,e,r)}else A(t,e)}function T(t){t._onerror&&t._onerror(t._result),x(t)}function A(t,e){t._state===w&&(t._result=e,t._state=k,0!==t._subscribers.length&&a(x,t))}function C(t,e){t._state===w&&(t._state=E,t._result=e,a(T,t))}function R(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=r,i[o+E]=n,0===o&&t._state&&a(x,t)}function x(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?N(r,n,i,o):i(o);t._subscribers.length=0}}function N(e,r,n,i){var o=t(n),s=void 0,a=void 0,c=!0;if(o){try{s=n(i)}catch(t){c=!1,a=t}if(r===s)return void C(r,new TypeError("A promises callback cannot return that same promise."))}else s=i;r._state!==w||(o&&c?O(r,s):!1===c?C(r,a):e===k?A(r,s):e===E&&C(r,s))}var j=0;function I(t){t[m]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[m]||I(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===w&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===b){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===_&&t._state!==w)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===L){var a=new r(g);s?C(a,o):S(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===w&&(this._remaining--,t===E?C(n,r):this._result[e]=r),0===this._remaining&&A(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;R(t,void 0,function(t){return r._settledAt(k,e,t)},function(t){return r._settledAt(E,e,t)})},t}();var L=function(){function e(t){this[m]=j++,this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){O(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return L.prototype.then=_,L.all=function(t){return new D(this,t).promise},L.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},L.resolve=b,L.reject=function(t){var e=new this(g);return C(e,t),e},L._setScheduler=function(t){s=t},L._setAsap=function(t){a=t},L._asap=a,L.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=L},L.Promise=L,L})}).call(this,r(36),r(0))},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=u(t),s=n[0],a=n[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),h=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,c[h++]=255&e);1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function l(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(h(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){(function(e){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=h||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return f.Date.now()};function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}(t))return n;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i,o,s,a,c,u,h=0,l=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError(r);function m(e){var r=i,n=o;return i=o=void 0,h=e,a=t.apply(n,r)}function g(t){var r=t-u;return void 0===u||r>=e||r<0||f&&t-h>=s}function w(){var t=y();if(g(t))return k(t);c=setTimeout(w,function(t){var r=e-(t-u);return f?v(r,s-(t-h)):r}(t))}function k(t){return c=void 0,d&&i?m(t):(i=o=void 0,a)}function E(){var t=y(),r=g(t);if(i=arguments,o=this,u=t,r){if(void 0===c)return function(t){return h=t,c=setTimeout(w,e),l?m(t):a}(u);if(f)return c=setTimeout(w,e),m(u)}return void 0===c&&(c=setTimeout(w,e)),a}return e=b(e)||0,_(n)&&(l=!!n.leading,s=(f="maxWait"in n)?p(b(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),E.cancel=function(){void 0!==c&&clearTimeout(c),h=0,i=u=o=c=void 0},E.flush=function(){return void 0===c?a:k(y())},E}}).call(this,r(0))},function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){"use strict";var n=r(3),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r}s[254]=s[254]=1,e.string2buf=function(t){var e,r,i,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(c),s=0,o=0;s<c;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,a=e||t.length,u=new Array(2*a);for(n=0,r=0;r<a;)if((i=t[r++])<128)u[n++]=i;else if((o=s[i])>4)u[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<a;)i=i<<6|63&t[r++],o--;o>1?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return c(u,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}},function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e,r,i){var o=n,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){t.exports=function(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){var n=r(13),i=r(24),o=r(59),s=r(23),a=r(22),c=(r(2)("socket.io-client:socket"),r(7));t.exports=l;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function l(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},l.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},l.prototype.emit=function(t){if(u.hasOwnProperty(t))return h.apply(this,arguments),this;var e=o(arguments),r={type:n.EVENT,data:e,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},l.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},l.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},l.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},l.prototype.onevent=function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},l.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var i=o(arguments);e.packet({type:n.ACK,id:t,data:i})}}},l.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&this.packet({type:n.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,r){"use strict";var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function u(t){var e="";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function h(){var t=u(+new Date);return t!==n?(a=0,n=t):t+"."+u(a++)}for(;c<o;c++)s[i[c]]=c;h.encode=u,h.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*o+s[t.charAt(c)];return e},t.exports=h},function(t,e,r){var n=r(11),i=r(7),o=r(4),s=r(6),a=r(27);r(2)("engine.io-client:polling");t.exports=u;var c=null!=new(r(12))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),n.call(this,t)}s(u,n),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function r(){e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()},u.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;o.decodePayload(t,this.socket.binaryType,function(t,r,n){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},u.prototype.doClose=function(){var t=this;function e(){t.write([{type:"close"}])}"open"===this.readyState?e():this.once("open",e)},u.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){(function(t){var n=r(12),i=r(69),o=r(62),s=r(61);e.polling=function(e){var r=!1,s=!1,a=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),r=e.hostname!==location.hostname||u!==e.port,s=e.secure!==c}if(e.xdomain=r,e.xscheme=s,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},e.websocket=s}).call(this,r(0))},function(t,e,r){var n=r(72),i=r(25),o=r(24),s=r(13),a=r(23),c=r(22),u=(r(2)("socket.io-client:manager"),r(26)),h=r(58),l=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(~this.readyState.indexOf("open"))return this;this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(r,"open",function(){i.onopen(),t&&t()}),s=a(r,"error",function(e){if(i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout,u=setTimeout(function(){o.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(s),this},f.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){this.emitAll("error",t)},f.prototype.socket=function(t,e){var r=this.nsps[t];if(!r){r=new i(this,t,e),this.nsps[t]=r;var n=this;r.on("connecting",o),r.on("connect",function(){r.id=n.generateId(t)}),this.autoConnect&&o()}function o(){~u(n.connecting,r)||n.connecting.push(r)}return r},f.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):t.onreconnect()}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,r){(function(e){t.exports=function(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))}}).call(this,r(0))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(e){var n=r(74),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(r){if(!r||"object"!=typeof r)return!1;if(n(r)){for(var i=0,a=r.length;i<a;i++)if(t(r[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(r)||"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||o&&r instanceof Blob||s&&r instanceof File)return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return t(r.toJSON(),!0);for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&t(r[c]))return!0;return!1}}).call(this,r(77).Buffer)},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[n[c]]=s[c]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,r){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!h){var t=a(f);h=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new function(t,e,r){this.fn=t,this.context=e,this.once=r||!1}(r,n||t,o),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},c.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},c.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var c,u,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,o),!0;case 6:return h.fn.call(h.context,e,r,n,o,s),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];h.fn.apply(h.context,c)}else{var f,d=h.length;for(u=0;u<d;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),l){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,r);break;case 4:h[u].fn.call(h[u].context,e,r,n);break;default:if(!c)for(f=1,c=new Array(l-1);f<l;f++)c[f-1]=arguments[f];h[u].fn.apply(h[u].context,c)}}return!0},c.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||n&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,u=[],h=s.length;c<h;c++)(s[c].fn!==e||n&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},function(t,e){var r={tabId:null,url:null,title:null,ua:null,start:0,last:{event:0,visible:0,hidden:0,_event:{}},activeDuration:0,resize:{width:0,height:0}},n=JSON.stringify(r);t.exports=function(t){if(t.tabId&&(r.tabId=t.tabId),"dom"==t.type)"snapshot"==t.data.id&&(r.url=t.data.treeData.href,r.title=t.data.treeData.meta.title,r.ua=t.data.treeData.userAgent,r.last.event=t.timestamp);else if("event"==t.type){var e=t.timestamp-r.last.event;e>3e4?r.activeDuration=0:e>3e3||(r.activeDuration+=e),r.last.event=t.timestamp,r.last._event[t.data.id]=t.timestamp,"init"==t.data.id?(r.resize.width=t.data.eventData.resize.width,r.resize.height=t.data.eventData.resize.height,r.start=t.timestamp,"visible"==t.data.eventData.visibilityState?r.last.visible=t.timestamp:r.last.hidden=t.timestamp):"visibilitychange"==t.data.id&&("visible"==t.data.eventData.visibilityState?r.last.visible=t.timestamp:"hidden"==t.data.eventData.visibilityState&&(r.last.hidden=t.timestamp,r.activeDuration=0))}var i=JSON.stringify(r);return i==n?null:(n=i,r)}},function(t,e,r){t.exports=r(49)},function(t,e,r){"use strict";var n={};(0,r(3).assign)(n,r(57),r(54),r(17)),t.exports=n},function(t,e,r){var n=r(79),i=r(13),o=r(30);r(2)("socket.io-client");t.exports=e=a;var s=e.managers={};function a(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i=n(t),a=i.source,c=i.id,u=i.path,h=s[c]&&u in s[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?r=o(a,e):(s[c]||(s[c]=o(a,e)),r=s[c]),i.query&&!e.query&&(e.query=i.query),r.socket(i.path,e)}e.protocol=i.protocol,e.connect=a,e.Manager=r(30),e.Socket=r(25)},function(t,e,r){"use strict";(function(t){var n=r(1),i=r(8),o=r.n(i),s=r(5),a=r.n(s),c=r(16),u=r.n(c),h=r(40),l=r(15),f=r.n(l);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _="navigator"in window&&"sendBeacon"in window.navigator,b=function(){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.debug=window.__karte_live&&window.__karte_live.debug||!1,this._buf="",this._baseURL=t,this._baseParam=r,this._param={seq_no:-1,pv_start:0,pv_end:0},this._finished=!1,this.sendTotalSize=0,Object(n.a)(this)}return function(t,e,r){e&&y(t.prototype,e),r&&y(t,r)}(e,[{key:"updateParam",value:function(t){v(this._param,t)}},{key:"store",value:function(t){var e,r,n;if(this.debug&&console.log("RecordSender","store","record",t),t.timestamp&&!this._denyPathsCheck(null!==(e=null===t||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:null===(n=r.treeData)||void 0===n?void 0:n.href)&&void 0!==e?e:null)){this._param.pv_start||(this._param.pv_start=t.timestamp),this._param.pv_end=t.timestamp;var i=JSON.stringify(t);this.debug&&console.log("RecordSender","store","jsonStr",i),this._buf+=i+"\n",this.sendWithThrottled&&this.sendWithThrottled()}}},{key:"_denyPathsCheck",value:function(t){if(window.__karte_live_opts&&window.__karte_live_opts.denyPaths)for(var e=window.__karte_live_opts.denyPaths.split(","),r=0;r<e.length;r++){if(location.pathname===e[r])return!0;if(t)if(new URL(t).pathname===e[r])return!0}return!1}},{key:"start",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this._param.seq_no=-1,this._param.pv_start=0,this._param.pv_end=0,this._finished=!1,this._buf="",this.sendWithThrottled=u()(a()(this.send.bind(this),t),10),this.checkSendable=e,this.sendEndWithThrottled=u()(a()(this.sendEnd.bind(this),6e4),1e4),this.flushRecoverRecords()}},{key:"sendRecoverRecords",value:function(t,e){m(t+"&recover=true",e)}},{key:"send",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._buf&&!r.end||this.checkSendable&&!this.checkSendable())return t.resolve();if(!this._param.pv_start||!this._param.pv_end)return t.resolve();var i=this._buf;this._buf="",this._param.seq_no+=1;var o=v({},this._baseParam,this._param,r),s=Object(n.d)(i);if(s>52428800)return this.sendTotalSize=104857601,void(this.debug&&console.log("max send size exceeded: ".concat(s," > ").concat(52428800)));if(this.sendTotalSize+=s,!(this.sendTotalSize>104857600)){var a=i;if(a.length>0)try{a=f.a.fromByteArray(Object(h.deflateRaw)(i)),o._c="d"}catch(t){o._c="err"}return this._post(this._baseURL,o,a,r.beacon).then(function(){e._saveSessionSize(s)}).catch(function(){setTimeout(function(){return e.flushRecoverRecords()},1e3)})}this.debug&&console.log("max send total size in pv exceeded: ".concat(this.sendTotalSize," > ").concat(104857600))}},{key:"_post",value:function(e,r,i,o){var s=this,a=g(e,r);if(o&&_&&!(Object(n.d)(i)>51200))return function(e,r){return new t(function(t){navigator.sendBeacon(e,r),t()})}(a,i);return this.stockRecoverRecords(a,i),m(a,i).then(function(){s.removeRecoverRecords(a)})}},{key:"sendEnd",value:function(){this._finished||this.send({end:!0})}},{key:"unload",value:function(){this.sendWithThrottled=null,this._finished=!0,this.send({end:!0,beacon:!0})}},{key:"pagehide",value:function(){if(null!==this.sendWithThrottled&&(this.sendWithThrottled=null,this._finished=!0,this._buf.length>0)){this._param.seq_no+=1;var t=v({},this._baseParam,this._param,{end:!0}),e=g(this._baseURL,t),r=this._buf;this.stockRecoverRecords(e,r)}}},{key:"stockRecoverRecords",value:function(t,e){try{var r="",n=window.localStorage.getItem("krt-lv-rr2");if(n){if(n.split("").length>3)return;var i=!1;r=n.split("").map(function(r){var n=d(r.split(""),2),o=n[0],s=n[1];return o===t?(i=!0,"".concat(t,"").concat(e)):"".concat(o,"").concat(s)}).join(""),i||(r=r.concat("".concat(t,"").concat(e)))}else r="".concat(t,"").concat(e);window.localStorage.setItem("krt-lv-rr2",r)}catch(t){this.debug&&console.log("recover data stock error",t)}}},{key:"removeRecoverRecords",value:function(t){try{var e=window.localStorage.getItem("krt-lv-rr2");if(e){var r=e.split("").filter(function(e){return e.split("")[0]!==t}).join("");window.localStorage.setItem("krt-lv-rr2",r)}}catch(t){this.debug&&console.log("recover data remove error",t)}}},{key:"flushRecoverRecords",value:function(){var t=this;try{var e=window.localStorage.getItem("krt-lv-rr2");e&&(window.localStorage.removeItem("krt-lv-rr2"),e.split("").forEach(function(e){var r=d(e.split(""),2),n=r[0],i=r[1];t.sendRecoverRecords(n,i)}))}catch(t){this.debug&&console.log("recover data flush error",t)}}},{key:"_saveSessionSize",value:function(t){var e={};try{var r=window.localStorage.getItem("krt-lv-ss");null!==r&&((e=JSON.parse(r)).sessionSize+=t,window.localStorage.setItem("krt-lv-ss",JSON.stringify(e)))}catch(t){this.debug&&console.log("cant save.","please check the karte live support document.",t)}}}]),e}();function m(t,e){return o.a.post(t).set("Content-Type","application/json").send(e).then(function(t){return t.body})}function g(t,e){var r=Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])});r.push("_v=a336a4a87d6d6dcc3616876756602848470abfb8");var n=r.join("&");return"".concat(t,"?").concat(n)}e.a=b}).call(this,r(14).Promise)},function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return s});var n=r(8),i=r.n(n);function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiKey=t,this.configURL=r,this.config=null}return function(t,e,r){e&&o(t.prototype,e),r&&o(t,r)}(e,[{key:"init",value:function(){return this._fetch()}},{key:"_fetch",value:function(){var e=this;return new t(function(t){if(e.config=e._loadStorage(),null===e.config){var r="".concat(e.configURL,"?api_key=").concat(e.apiKey,"&_v=")+"a336a4a87d6d6dcc3616876756602848470abfb8";i.a.get(r).accept("application/json").timeout(500).then(function(t){e.config=t.body,e._saveStorage()}).catch(function(t){console.log("live config fetch failed",t)}).then(function(){t()})}else t()})}},{key:"_loadStorage",value:function(){var t=this._load().config;return void 0!==t&&Date.now()-t._timestamp<=12e4?t:null}},{key:"_saveStorage",value:function(){this.config._timestamp=Date.now(),this._save("config",this.config)}},{key:"_load",value:function(){var t={};try{var e=window.sessionStorage.getItem("krt-lv-c");null!==e&&(t=JSON.parse(e))}catch(t){return console.log("cant load.","please check the karte live support document.",t),{}}return t||{}}},{key:"_save",value:function(t,e){var r=this._load()||{};r[t]=e;try{window.sessionStorage.setItem("krt-lv-c",JSON.stringify(r))}catch(t){console.log("cant save.","please check the karte live support document.",t)}}},{key:"_remove",value:function(){window.sessionStorage.removeItem("krt-lv-c")}},{key:"isEnableReplay",get:function(){return!(null!==this.config&&"eR"in this.config)||this.config.eR}},{key:"isEnableStreaming",get:function(){return!(null!==this.config&&"eS"in this.config)||this.config.eS}}]),e}()}).call(this,r(14).Promise)},function(t,e,r){"use strict";r.r(e);var n=r(43),i=r(42),o=r(39),s=r(1),a=r(38),c=r.n(a);function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,r,n){var i=this,o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).tabId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._shouldEmit=!1,this._shouldStatusEmit=!1,this.socket=e,this.recorder=r,this.emitter=n,this.socket.on("joined",function(){i.enableEmit(),i.recorder.takeSnapshot(function(t){i.emitter.emit("recordOnlyStreaming",t)})}),this.socket.on("joined_only_status",function(){i.enableStatusEmit(),i.recorder.takeSnapshot(function(t){i.emitter.emit("recordOnlyStreaming",t)})}),this.socket.on("adminDisconnected",function(t){0===t.connect_num&&i.disableEmit()}),this.socket.on("adminStatusDisconnected",function(t){0===t.connect_num&&i.disableStatusEmit()}),this.tabId=o,Object(s.a)(this)}return function(t,e,r){e&&u(t.prototype,e),r&&u(t,r)}(t,[{key:"handleRecord",value:function(t){var e=c()(t);if(this._shouldStatusEmit&&e&&this.socket.emit("status",e),this._shouldEmit){var r=JSON.parse(JSON.stringify(t));r.tabId=this.tabId,this.socket.emit("record",r),e&&this.socket.emit("status",e)}}},{key:"handleSignal",value:function(t,e,r){var n={type:t,key:e,opts:r};this.socket.emit("signal",n)}},{key:"enableEmit",value:function(){this._shouldEmit=!0}},{key:"enableStatusEmit",value:function(){this._shouldStatusEmit=!0}},{key:"disableEmit",value:function(){this._shouldEmit=!1}},{key:"disableStatusEmit",value:function(){this._shouldStatusEmit=!1}}]),t}(),l=r(37),f=r.n(l),d=r(5),p=r.n(d);function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),t}var b="1",m="2",g="3",w=["click","keyup","scroll"],k=r(47),E="krt-lv-tb-id",S="krt-lv-tb-st",O=108e5,T=3e5,A=18e5,C=function(){function t(e){var r=e.session_life_time,n=e.tab_life_time,i=e.onRenewSessionId;v(this,t),this.session_life_time=r,this.tab_life_time=n,this._onRenewSessionId=i}return _(t,[{key:"unloadTab",value:function(t){this._setTabIdStatus(t,b)}},{key:"openTab",value:function(t){this._setTabIdStatus(t,m)}},{key:"hideTab",value:function(t){this._setTabIdStatus(t,g)}},{key:"getLiveSessionId",value:function(){var t=this._getSessionId(),e=this._isActive(),r=this._isOverSessionSizeLimit();return e&&t&&!r?{sessionId:t,renewed:!1}:{sessionId:t=this._renewSessionId(),renewed:!0}}},{key:"setLiveSessionId",value:function(t){this._setSessionInfo(t,18e5)}},{key:"updateTimestamp",value:function(t){var e=this._loadTabIds();e[t]&&(e[t].timestamp=Date.now(),this._saveTabIds(e))}},{key:"isTabActive",value:function(t){if(!this._isActiveSession())return!1;var e=this._loadTabIds();return!!e[t]&&Date.now()-e[t].timestamp<this.tab_life_time}},{key:"_isActive",value:function(){return this._repear(),this._isActiveSession()&&this._hasActiveTab()}},{key:"_isActiveSession",value:function(){var t=Date.now(),e=this._getSessionTimestamp();return e&&t-e<this.session_life_time}},{key:"_isOverSessionSizeLimit",value:function(){return this._getSessionSize()>=52428800}},{key:"_hasActiveTab",value:function(){return this._getActiveTabIds().length>0}},{key:"_setTabIdStatus",value:function(t,e){this._repear();var r=this._loadTabIds();r[t]={status:e,timestamp:Date.now()},this._saveTabIds(r)}},{key:"_getSessionId",value:function(){return this._load().sessionId}},{key:"_getSessionTimestamp",value:function(){return this._load().sessionTimestamp}},{key:"_getSessionSize",value:function(){return this._load().sessionSize||0}},{key:"_renewSessionId",value:function(){var t=k();this._setSessionInfo(t);try{this._onRenewSessionId(t)}catch(t){console.error(t)}return t}},{key:"_setSessionInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;this._save("sessionId",t),this._save("sessionTimestamp",Date.now()),this._save("expireTimestamp",Date.now()+e),this._save("sessionSize",0)}},{key:"_loadTabIds",value:function(){return this._load().tabIds||{}}},{key:"_saveTabIds",value:function(t){this._save("tabIds",t)}},{key:"_load",value:function(){var t={};try{var e=window.localStorage.getItem("krt-lv-ss");null!==e&&(t=JSON.parse(e))}catch(t){return console.log("cant load.","please check the karte live support document.",t),{}}return t||{}}},{key:"_save",value:function(t,e){var r=this._load()||{};r[t]=e;try{window.localStorage.setItem("krt-lv-ss",JSON.stringify(r))}catch(t){console.log("cant save.","please check the karte live support document.",t)}}},{key:"_getActiveTabIds",value:function(){var t=this,e=this._loadTabIds(),r=Date.now(),n=[];return Object.keys(e).forEach(function(i){r-e[i].timestamp<t.tab_life_time&&n.push(i)}),n}},{key:"_repear",value:function(){var t=this,e=this._loadTabIds(),r=Date.now();Object.keys(e).forEach(function(n){r-e[n].timestamp>=t.tab_life_time&&delete e[n]}),this._saveTabIds(e)}}]),t}(),R=function(){function t(e){var r=e.tab_storage_key_header;v(this,t),this.tab_storage_key_header=r,this.tab_id_key=[this.tab_storage_key_header,E].join(""),this.tab_status_key=[this.tab_storage_key_header,S].join("")}return _(t,[{key:"loadTabId",value:function(){var t=window.sessionStorage.getItem(this.tab_id_key);return t&&window.sessionStorage.getItem(this.tab_status_key)!==m||(t=k(),window.sessionStorage.setItem(this.tab_id_key,t)),window.sessionStorage.setItem(this.tab_status_key,m),t}},{key:"unloadTabId",value:function(){window.sessionStorage.setItem(this.tab_status_key,b)}}]),t}(),x=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.session_life_time,i=void 0===n?O:n,o=r.tab_life_time,s=void 0===o?T:o,a=r.tab_storage_key_header,c=void 0===a?"":a,u=r.longSessionMode,h=void 0!==u&&u,l=r.onRenewSessionId,f=void 0===l?function(){}:l;v(this,t),this.sessionId=null,this.tabId=null,this.tabStorage=new R({tab_storage_key_header:c}),this.sharedStorage=new C({session_life_time:i,tab_life_time:h?A:s,onRenewSessionId:f}),this.renewed=!1,this.longSessionMode=h,this.updateTimestampEventListener=p()(function(){e.sharedStorage.updateTimestamp(e.tabId)}.bind(this),1e3),this.loadHandler()}return _(t,[{key:"isTabActive",value:function(){return this.sharedStorage.isTabActive(this.tabId)}},{key:"bindHandlers",value:function(t){var e=this;this.renewSessionIdHandler=t,this.visibilityChangeHandler=function(){if("visible"===document.visibilityState){var t=e.sessionId;e.visibleHandler(),t!==e.sessionId&&e.renewSessionIdHandler&&e.renewSessionIdHandler(e.sessionId)}else e.hiddenHandler()}.bind(this),document.addEventListener("visibilitychange",this.visibilityChangeHandler,{passive:!0,capture:!1})}},{key:"loadHandler",value:function(){var t=this,e=this.sharedStorage.getLiveSessionId(),r=e.sessionId,n=e.renewed;this.sessionId=r,this.renewed=n,this.tabId=this.tabStorage.loadTabId(),this.sharedStorage.openTab(this.tabId),w.filter(function(e){document.addEventListener(e,t.updateTimestampEventListener,{passive:!0,capture:!1})})}},{key:"visibleHandler",value:function(){var t=this.sharedStorage.getLiveSessionId(),e=t.sessionId,r=t.renewed;this.sessionId=e,this.renewed=r,this.sharedStorage.openTab(this.tabId)}},{key:"hiddenHandler",value:function(){this.sharedStorage.hideTab(this.tabId)}},{key:"unloadHandler",value:function(){var t=this;this.tabStorage.unloadTabId(this.tabId),this.sharedStorage.unloadTab(this.tabId),w.filter(function(e){document.removeEventListener(e,t.updateTimestampEventListener,{capture:!1})}),document.removeEventListener("visibilitychange",this.visibilityChangeHandler,{capture:!1})}}]),t}();function N(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D="\n  #krtAdminUserMouse {\n    display: none;\n    position: absolute;\n    z-index: 2147483647;\n  }\n  #krtAdminUserMouse .krtAdminUserMouseTriangle {\n    width: 20px;\n    height: 20px;\n    background-color: #2aab9f;\n    clip-path: polygon(0 0, 77% 29%, 45% 40%, 37% 77%);\n  }\n  #krtAdminUserMouse .krtAdminUserMouseClick {\n    position: absolute;\n    top: -10px;\n    left: -10px;\n    width: 20px;\n    height: 20px;\n    border-radius: 30px;\n    opacity: 0.0;\n    background-color: #2aab9f;\n    -webkit-animation: krtAdminUserMouseClickFade 0.3s ease-in;\n  }\n  #krtAdminUserMouse .krtAdminUserMouseName {\n    margin-top: -10px;\n    margin-left: 12px;\n    background-color: #2aab9f;\n    color: white;\n    font-weight: bold;\n    font-size: 10px;\n    border-radius: 3px;\n    padding: 1px 6px;\n  }\n  .krtAdminUserMouseDragRectangle {\n    position: fixed;\n    border: 3px solid #2aab9f;\n    border-radius: 2px;\n    background: rgba(42, 171, 159, 0.2);\n    z-index: 2147483647;\n  }\n  @-webkit-keyframes krtAdminUserMouseClickFade {\n    0%{\n      opacity:0.0;\n    }\n    50%{\n      opacity:0.5;\n    }\n    100% {\n      opacity:0.0;\n    }\n  }\n",L=null;var M=0,P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cursor=null,this.show=!1,M+=1,this.createMouseCursor(),this.state={drag:{start:{x:0,y:0}}}}return function(t,e,r){e&&I(t.prototype,e),r&&I(t,r)}(t,[{key:"createMouseCursor",value:function(){if(!this.cursor){var t=document.createElement("div");t.setAttribute("id","krtAdminUserMouse"),t.style.top="0px",t.style.left="0px",document.body.appendChild(t),this.cursor=t;var e=document.createElement("div");e.setAttribute("class","krtAdminUserMouseTriangle"),t.appendChild(e),this.triangle=e;var r=document.createElement("div");r.setAttribute("class","krtAdminUserMouseName"),t.appendChild(r),this.name=r,r.innerHTML="Operator".concat(M)}}},{key:"hookEvent",value:function(t,e){"mouseMove"==t?this.moveMouseCursor(e.x,e.y):"mouseLeave"==t?(this.moveMouseCursor(-100,-100),this.dragEnd()):"mouseClick"==t?this.mouseClick(e.x,e.y):"mouseShow"==t?this.showMouseCursor():"mouseHide"==t?this.hideMouseCursor():"mouseDown"==t?this.dragStart(e.x,e.y):"mouseUp"==t?this.dragEnd(e.x,e.y):"disconnected"==t&&this.hideMouseCursor()}},{key:"mouseClick",value:function(t,e){var r=this;if(this.show){var n=document.createElement("div");n.setAttribute("class","krtAdminUserMouseClick"),this.cursor.appendChild(n),setTimeout(function(){r.cursor.removeChild(n)},1e3);var i=N(document.elementsFromPoint(t,e)).find(function(t){return"A"==t.nodeName});i&&i.click()}}},{key:"moveMouseCursor",value:function(t,e){var r="translate("+t+"px,"+e+"px)";this.cursor.style.transform=r,this.rectangle&&(this.rectangle.style.height="".concat(e-this.state.drag.start.y,"px"),this.rectangle.style.width="".concat(t-this.state.drag.start.x,"px"))}},{key:"showMouseCursor",value:function(){this.show=!0,this.cursor.style.display="block"}},{key:"hideMouseCursor",value:function(){this.show=!1,this.cursor.style.display="none"}},{key:"dragStart",value:function(t,e){if(this.show){this.state.drag.time&&this.dragEnd(!0),this.state.drag.time=Date.now();var r=document.createElement("div");r.setAttribute("class","krtAdminUserMouseDragRectangle"),document.body.appendChild(r),this.rectangle=r,r.style.top="".concat(e,"px"),r.style.left="".concat(t,"px"),r.style.height="0px",r.style.width="0px",this.state.drag.start.x=t,this.state.drag.start.y=e}}},{key:"dragEnd",value:function(){this.rectangle&&(document.body.removeChild(this.rectangle),this.rectangle=null,this.state.drag.start.x=0,this.state.drag.start.y=0)}},{key:"destroy",value:function(){document.body.removeChild(this.cursor),this.cursor=null}}]),t}(),B={},U={mouse:function(t,e){var r=e.tabId,n=t.account_id;if("mouse"===t.name){var i=t.data,o=i.name,s=i.data;if(-1!=["click","mouseMove","mouseLeave","mouseClick","mouseScroll","mouseShow","mouseHide","mouseDown","mouseUp","disconnected"].indexOf(o)&&(t.tabId===r||-1!=["mouseShow","mouseHide","disconnected"].indexOf(o))&&n){var a=B[n];if("disconnected"==o)return a&&a.destroy(),void delete B[n];a||(a=new P,B[n]=a),L||((L=document.createElement("style")).type="text/css",L.styleSheet?L.styleSheet.cssText=D:L.appendChild(document.createTextNode(D)),document.body.appendChild(L)),a.hookEvent(o,s)}}}};function z(){return(z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function H(t){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach(function(e){Y(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=["notUnhiddenSelectorApiKey","4cffe2e439ad4a79b476edbbe8b2bd20"],X=["ca7e05083c493af176c180eea1446434"],G=function(){function t(e,r){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=e.api_key,c=e.socketURL,u=e.recordURL,h=e.configURL,l=e.hiddenSelector,d=e.unhiddenSelector,p=e.tracker;this.params={api_key:a,socketURL:c,recordURL:u,hiddenSelector:l,unhiddenSelector:d},this.options=r,this.configManager=new n.a(a,h);var v=new f.a,y=V.indexOf(a)>=0,_=new o.ScreenRecorder(function(t){v.emit("record",t)},{hiddenSelector:l,unhiddenSelector:d,enableRecordIframeHtml:X.indexOf(a)>=0},y),b=new i.a(u,{api_key:a});this.tracker=p,this.emitter=v,this.recorder=_,this.recordSender=b,this.initializing=!0,this.initializeFailed=!1,this.initializeError="",this.configManager.init().then(function(){try{s._initSession()}catch(t){console.error(t),s.initializeFailed=!0,s.initializeError=t,s.destroy()}finally{s.initializing=!1}}),this.hiddenSelector=l,this.unhiddenSelector=d}return function(t,e,r){e&&W(t.prototype,e),r&&W(t,r)}(t,[{key:"_checkLiveStartable",value:function(){return this.configManager.isEnableReplay||this.configManager.isEnableStreaming}},{key:"_checkReplayStartable",value:function(){return this.configManager.isEnableReplay}},{key:"_checkStreamingStartable",value:function(){return this.configManager.isEnableStreaming}},{key:"_initSession",value:function(){var t=this;if(this._checkLiveStartable()){var e=this.options,r=e.tabLifeTime,n=e.tabStorageKeyHeader,i=e.enableSessionSync;this.liveSession=new x({tab_life_time:r,tab_storage_key_header:n,longSessionMode:i,onRenewSessionId:function(e){t.tracker&&t.tracker.updateMeta&&t.tracker.updateMeta({live_session_id:e})}});var o=function(){t.destroy(),t.start()}.bind(this);this.liveSession.bindHandlers(o),this.unload=function(e){t.recorder.stop(),t.liveSession.unloadHandler(),t.recordSender.unload(),Object(s.c)()?window.removeEventListener("pagehide",t.unload,{capture:!1}):window.removeEventListener("beforeunload",t.unload,{capture:!1})}.bind(this),Object(s.c)()?window.addEventListener("pagehide",this.unload,{passive:!0,capture:!1}):window.addEventListener("beforeunload",this.unload,{passive:!0,capture:!1}),this.pagehide=function(e){t.recordSender.pagehide(),window.removeEventListener("pagehide",t.pagehide,{capture:!1})}.bind(this),window.addEventListener("pagehide",this.pagehide,{passive:!0,capture:!1}),this.visibilityChangeHandler=function(){"visible"!==document.visibilityState&&t.recordSender.sendEndWithThrottled()}.bind(this),document.addEventListener("visibilitychange",this.visibilityChangeHandler,{passive:!0,capture:!1}),this.start()}else this.tracker&&this.tracker.track("_live_limit_over",F({},window.__karte_live.__keys))}},{key:"_destroySession",value:function(){this.recorder.stop(),this.liveSession.unloadHandler(),this.recordSender.unload(),Object(s.c)()?window.removeEventListener("pagehide",this.unload,{capture:!1}):window.removeEventListener("beforeunload",this.unload,{capture:!1}),window.removeEventListener("pagehide",this.pagehide,{capture:!1}),document.removeEventListener("visibilitychange",this.visibilityChangeHandler,{capture:!1})}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._checkReplayStartable()?this._startReplay(t):this.tracker&&this.tracker.track("_live_limit_over_replay",F({},window.__karte_live.__keys)),this._checkStreamingStartable()?this._startStreaming():this.tracker&&this.tracker.track("_live_limit_over_streaming",F({},window.__karte_live.__keys)),this.recorder.start({tabId:this.liveSession.tabId}),"object"!==H(this.recorder.treeMirrorClient))throw new Error("treeMirrorClient not created")}},{key:"_startReplay",value:function(t){var e=this;this.emitter.on("record",this.recordSender.store);var r=this.liveSession.sessionId,n=this._getPvId(),i=this._getVisitorId(),o="vis-".concat(i);this.tracker&&(window.__karte_live.__keys={user_id:o,visitor_id:i,pv_id:n,session_id:r,tab_id:this.liveSession.tabId},this.tracker.updateMeta&&this.tracker.updateMeta({live_session_id:r,pv_id:n}),this.tracker.track("_live_record_start",F(F({},window.__karte_live.__keys),{},{renewed:this.liveSession.renewed,has_hdn_slctr:this.hiddenSelector.length>0,has_un_hdn_slctr:this.unhiddenSelector.length>0}))),z(t,{user_id:o,visitor_id:i,session_id:r,pv_id:n}),this.recordSender.updateParam(t);var s=function(){return e.liveSession.isTabActive()}.bind(this),a=this.options.send_interval||5e3;this.recordSender.start(a,s)}},{key:"_stopReplay",value:function(){this.emitter.removeListener("record",this.recordSender.store)}},{key:"_startStreaming",value:function(){this._startLive()}},{key:"_getPvId",value:function(){return(new Date).getTime().toString(36)}},{key:"_getVisitorId",value:function(){try{var t,e,r,n="krt.vis",i=(null===(t=this.tracker)||void 0===t?void 0:null===(e=t.options)||void 0===e?void 0:e.site_id)||window.tracker&&(null===(r=window.tracker.options)||void 0===r?void 0:r.site_id)||null;i&&(n+="."+i);var o=window.localStorage.getItem("krt___".concat(n)),s=null;return o&&(s=JSON.parse(o).val),s||(s=("; "+document.cookie).split("; ".concat(n,"=")).pop().split(";")[0]),s}catch(t){throw new Error("visitor_id not found")}}},{key:"_startLive",value:function(){var t=window.location.href,e=this.liveSession.sessionId,r=this._getVisitorId(),n=this.params,i=n.api_key,o=n.socketURL,a=Object(s.b)(o,{api_key:i,visitor_id:r,session_id:e,url:t,tabId:this.liveSession.tabId}),c=new h(a,this.recorder,this.emitter,{tabId:this.liveSession.tabId});a.on("adminEvent",this._execPlugin.bind(this)),this.emitter.on("record",c.handleRecord),this.emitter.on("recordOnlyStreaming",c.handleRecord),this.socket=a,this.socketClient=c}},{key:"_stopLive",value:function(){this.emitter.removeListener("record",this.socketClient.handleRecord),this.emitter.removeListener("recordOnlyStreaming",this.socketClient.handleRecord),this.socket.close(),this.socket=null,this.socketClient=null}},{key:"_execPlugin",value:function(t){U.mouse(t,{tabId:this.liveSession.tabId})}},{key:"signal",value:function(t,e,r){if(!this.socketClient)throw new Error("live socket not created");this.socketClient.handleSignal(t,e,r)}},{key:"destroy",value:function(){try{this._stopLive()}catch(t){}try{this._stopReplay()}catch(t){}try{this._destroySession()}catch(t){}}}]),t}(),Z={INIT:"init",PRESTARTING:"prestarting",STARTING:"starting",RECORDING:"recording",STOPPING:"stopping",ERROR:"error"};function $(){window.__karte_live.STATUS!==Z.ERROR&&window.__karte_live.STATUS!==Z.RECORDING&&(window.__karte_live.startFailedCount=0,window.__karte_live.STATUS=Z.STARTING)}function K(){window.__karte_live.STATUS=Z.INIT;var t=window.__karte_live.liveObj;t.destroy&&(t.destroy(),window.__karte_live.liveObj={})}function J(t){var e=t.tracker;try{!function(){try{if(window.__karte_live_opts&&window.__karte_live_opts.denyPaths){for(var t=window.__karte_live_opts.denyPaths.split(","),e=!1,r=0;r<t.length;r++)try{location.pathname===t[r]&&(e=!0,K())}catch(t){console.warn("live script denyPaths error",t)}e||window.__karte_live.STATUS===Z.STARTING||window.__karte_live.STATUS===Z.PRESTARTING||window.__karte_live.STATUS===Z.RECORDING||(window.__karte_live.STATUS=Z.PRESTARTING,setTimeout(function(){window.__karte_live.STATUS===Z.PRESTARTING&&$()},300))}}finally{}}();var r=window.__karte_live.liveObj;if(r.initializing)return;r.initializeFailed&&(r.initializeFailed=!1,window.__karte_live.startFailedCount++,window.__karte_live.startFailedCount<=window.__karte_live.startFailedLimit?(console.log("restart live",window.__karte_live.startFailedCount,window.__karte_live.startFailedLimit),window.__karte_live.STATUS=Z.STARTING):(e.track("_live_script_error",{error_message:r.initializeError.message,error_stack:r.initializeError.stack}),window.__karte_live.STATUS=Z.ERROR));var n=window.__karte_live.STATUS;if(n===Z.INIT||n===Z.PRESTARTING||n===Z.RECORDING||n===Z.ERROR)return;if(n===Z.STARTING){window.__karte_live.STATUS=Z.RECORDING;var i=new G(window.__karte_live.var1,window.__karte_live.var2);window.__karte_live.liveObj=i}else n===Z.STOPPING&&(window.__karte_live.STATUS=Z.INIT,r.destroy&&(r.destroy(),window.__karte_live.liveObj={}))}catch(t){console.warn("unknown error in live script.",t)}finally{window.__karte_live_opts&&window.__karte_live_opts.denyPaths?setTimeout(function(){return J({tracker:e})},0):setTimeout(function(){return J({tracker:e})},100)}}window.__karte_live||(window.__karte_live={STATUS:Z.INIT,liveObj:{},readied:!1,started:!1,ready:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.__karte_live.readied=!0,0===Object.keys(window.__karte_live.var1).length&&(window.__karte_live.var1=t,window.__karte_live.var2=e)},start:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.tracker,n=e.socketURL,i=e.recordURL,o=e.hiddenSelector,s=e.unhiddenSelector,a=e.apiKey,c=e.enableIE,u=void 0!==c&&c,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=h.tabLifeTime,f=h.tabStorageKeyHeader,d=h.enableSessionSync;if(window.__karte_live.readied)return window.__karte_live.readied=!1,void t(window.__karte_live.var1,window.__karte_live.var2);if(!r)throw new Error("tracker is undefined");if(!u&&/TRIDENT|MSIE/.test(navigator.userAgent.toUpperCase()))r.track("_live_script_unsuported_device",{error_message:"does not support InternetExplorer"});else if(window.__karte_live.started)console.warn("KARTE Live already started in another service");else{var p=location.hash;p&&"#_live_debug"===p&&(window.__karte_live.debug=!0),n=n||"https://mirror-socket2.karte.io";var v=(i=i||"https://mirror2.karte.io/mirror-record/record").replace("mirror-record/record","mirror-cfg/fetch");o=o||"",s=s||"","https://console.karte.io"===n&&(n="https://mirror-socket2.karte.io");var y=a||r.api_key||window.tracker&&window.tracker.api_key;if(!y)throw r.track("_live_script_error",{error_message:"api_key is undefined"}),new Error("api_key is undefined");window.__karte_live.var1={api_key:y,socketURL:n,recordURL:i,configURL:v,hiddenSelector:o,unhiddenSelector:s,tracker:r},window.__karte_live.var2={tabLifeTime:l,tabStorageKeyHeader:f,enableSessionSync:d},window.__karte_live.started=!0,window.__karte_live.STATUS!==Z.STOPPING&&(window.__karte_live.STATUS=Z.STARTING),J({tracker:r})}},record:$,stop:function(){window.__karte_live.STATUS!==Z.ERROR&&(window.__karte_live.STATUS=Z.STOPPING)},watch:J,signal:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)throw new Error("bad args");window.__karte_live.STATUS===Z.RECORDING?window.__karte_live.liveObj.signal(t,e,r):console.warn("live script not started")},__keys:{},startFailedCount:0,startFailedLimit:3,var1:{},var2:{},debug:!1})},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,r){var n=r(46),i=r(45);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,r){(function(e,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,s=void 0,a=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(s?s(v):y())};var c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<i;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}i=0}var y=void 0;function _(t,e){var r=this,n=new this.constructor(g);void 0===n[m]&&I(n);var i=r._state;if(i){var o=arguments[i-1];a(function(){return N(i,n,o,r._result)})}else R(r,n,t,e);return n}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(g);return O(e,t),e}y=l?function(){return e.nextTick(v)}:h?function(){var t=0,e=new h(v),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():f?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:d()}catch(t){return d()}}():d();var m=Math.random().toString(36).substring(2);function g(){}var w=void 0,k=1,E=2;function S(e,r,n){r.constructor===e.constructor&&n===_&&r.constructor.resolve===b?function(t,e){e._state===k?A(t,e._result):e._state===E?C(t,e._result):R(e,void 0,function(e){return O(t,e)},function(e){return C(t,e)})}(e,r):void 0===n?A(e,r):t(n)?function(t,e,r){a(function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,function(r){n||(n=!0,e!==r?O(t,r):A(t,r))},function(e){n||(n=!0,C(t,e))},t._label);!n&&i&&(n=!0,C(t,i))},t)}(e,r,n):A(e,r)}function O(t,e){if(t===e)C(t,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)){var r=void 0;try{r=e.then}catch(e){return void C(t,e)}S(t,e,r)}else A(t,e)}function T(t){t._onerror&&t._onerror(t._result),x(t)}function A(t,e){t._state===w&&(t._result=e,t._state=k,0!==t._subscribers.length&&a(x,t))}function C(t,e){t._state===w&&(t._state=E,t._result=e,a(T,t))}function R(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=r,i[o+E]=n,0===o&&t._state&&a(x,t)}function x(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?N(r,n,i,o):i(o);t._subscribers.length=0}}function N(e,r,n,i){var o=t(n),s=void 0,a=void 0,c=!0;if(o){try{s=n(i)}catch(t){c=!1,a=t}if(r===s)return void C(r,new TypeError("A promises callback cannot return that same promise."))}else s=i;r._state!==w||(o&&c?O(r,s):!1===c?C(r,a):e===k?A(r,s):e===E&&C(r,s))}var j=0;function I(t){t[m]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[m]||I(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===w&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===b){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===_&&t._state!==w)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===L){var a=new r(g);s?C(a,o):S(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===w&&(this._remaining--,t===E?C(n,r):this._result[e]=r),0===this._remaining&&A(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;R(t,void 0,function(t){return r._settledAt(k,e,t)},function(t){return r._settledAt(E,e,t)})},t}();var L=function(){function e(t){this[m]=j++,this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){O(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return L.prototype.then=_,L.all=function(t){return new D(this,t).promise},L.race=function(t){var e=this;return n(t)?new e(function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},L.resolve=b,L.reject=function(t){var e=new this(g);return C(e,t),e},L._setScheduler=function(t){s=t},L._setAsap=function(t){a=t},L._asap=a,L.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=L},L.Promise=L,L})}).call(this,r(36),r(0))},function(t,e,r){(function(t){!function(t,e){for(var r in e)t[r]=e[r]}(e,function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=53)}([function(t,e,r){"use strict";var n,i,o,s;r.d(e,"c",function(){return n}),r.d(e,"a",function(){return i}),r.d(e,"b",function(){return o}),r.d(e,"d",function(){return s}),function(t){t.DOM="dom",t.EVENT="event",t.ERROR="error",t.STYLE="style"}(n||(n={})),function(t){t.SNAPSHOT="snapshot",t.MUTATION="mutation"}(i||(i={})),function(t){t.INIT="init",t.END="end",t.MOUSEMOVE="mousemove",t.MOUSELEAVE="mouseleave",t.SCROLL="scroll",t.RESIZE="resize",t.CLICK="click",t.CHANGE="change",t.INPUT="input",t.FOCUS="focus",t.BLUR="blur",t.SELECTIONCHANGE="selectionchange",t.TOUCHSTART="touchstart",t.TOUCHEND="touchend",t.TOUCHMOVE="touchmove",t.TOUCHCANCEL="touchcancel",t.VISIBILITYCHANGE="visibilitychange",t.ERROR="error",t.CONSOLE_LOG="console.log",t.CONSOLE_WARN="console.warn",t.CONSOLE_ERROR="console.error",t.CODE="code"}(o||(o={})),(s||(s={})).DETECT_SHADOWDOM="detectShadowDom"},function(t,e,r){"use strict";var n=Array.isArray;e.a=n},function(t,e,r){"use strict";var n=r(32),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.a||i||Function("return this")();e.a=o},function(t,e,r){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){"use strict";function n(t,e){for(var r=[],n=e.parentNode,i=!1;n;){if(i)r.unshift("shadow"),i=!1;else{var o=Array.prototype.indexOf.call(n.childNodes,e);if(o<0)throw new Error("cant create path of the element");r.unshift(o)}e=n,n=n.parentNode,e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(n=e.host,i=!0)}return e!==t?null:r}function i(t,e){for(var r=t,n=0;n<e.length;n++){if(!r)return null;r="shadow"===e[n]?r.shadowRoot:r.childNodes[e[n]]}return r}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i})},function(t,e,r){"use strict";var n=r(2).a.Symbol;e.a=n},function(t,e,r){"use strict";var n,i=r(33),o=r(2).a["__core-js_shared__"],s=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",a=r(3),c=r(13),u=/^\[object .+?Constructor\]$/,h=Function.prototype,l=Object.prototype,f=h.toString,d=l.hasOwnProperty,p=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=function(t){return!(!Object(a.a)(t)||function(t){return!!s&&s in t}(t))&&(Object(i.a)(t)?p:u).test(Object(c.a)(t))};e.a=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return v(r)?r:void 0}},function(t,e,r){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){"use strict";var n=r(5),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n.a?n.a.toStringTag:void 0,c=Object.prototype.toString,u=n.a?n.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}(t):function(t){return c.call(t)}(t)}},function(t,e,r){"use strict";function n(t,e){if(!(t&&e&&t instanceof Element))return!1;if((t=t).matches)return t.matches(e);if(t.matchesSelector)return t.matchesSelector(e);if(t.mozMatchesSelector)return t.mozMatchesSelector(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.oMatchesSelector)return t.oMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e);for(var r=(window.document||t.ownerDocument).querySelectorAll(e),n=r.length;--n>=0&&r.item(n)!==t;);return n>-1}function i(t){var e=r(t.split(",").map(function(t){return t.trim()}));return r([e,e.map(function(t){return t+" *"}).join(",")]).join(",");function r(t){return t.filter(function(t){return void 0!==t&&""!==t&&null!==t&&!1!==t})}}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i})},function(t,e,r){"use strict";var n=r(33),i=r(18);e.a=function(t){return null!=t&&Object(i.a)(t.length)&&!Object(n.a)(t)}},function(t,e,r){"use strict";var n=r(8),i=r(7);e.a=function(t){return"symbol"==typeof t||Object(i.a)(t)&&"[object Symbol]"==Object(n.a)(t)}},function(t,e,r){"use strict";var n=r(11);e.a=function(t){if("string"==typeof t||Object(n.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,r){"use strict";var n=Function.prototype.toString;e.a=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){"use strict";e.a=function(t){return t}},function(t,e,r){"use strict";var n=r(22),i=function(t,e){for(var r=t.length;r--;)if(Object(n.a)(t[r][0],e))return r;return-1},o=Array.prototype.splice;function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=function(){this.__data__=[],this.size=0},s.prototype.delete=function(t){var e=this.__data__,r=i(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))},s.prototype.get=function(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]},s.prototype.has=function(t){return i(this.__data__,t)>-1},s.prototype.set=function(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},e.a=s},function(t,e,r){"use strict";var n=r(6),i=r(2),o=Object(n.a)(i.a,"Map");e.a=o},function(t,e,r){"use strict";var n=r(6),i=Object(n.a)(Object,"create"),o=Object.prototype.hasOwnProperty,s=Object.prototype.hasOwnProperty;function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=function(){this.__data__=i?i(null):{},this.size=0},a.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},a.prototype.get=function(t){var e=this.__data__;if(i){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0},a.prototype.has=function(t){var e=this.__data__;return i?void 0!==e[t]:s.call(e,t)},a.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};var c=a,u=r(15),h=r(16),l=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function f(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}f.prototype.clear=function(){this.size=0,this.__data__={hash:new c,map:new(h.a||u.a),string:new c}},f.prototype.delete=function(t){var e=l(this,t).delete(t);return this.size-=e?1:0,e},f.prototype.get=function(t){return l(this,t).get(t)},f.prototype.has=function(t){return l(this,t).has(t)},f.prototype.set=function(t,e){var r=l(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},e.a=f},function(t,e,r){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){"use strict";var n=r(45),i=r(42),o=r(10);e.a=function(t){return Object(o.a)(t)?Object(n.a)(t):Object(i.a)(t)}},function(t,e,r){"use strict";var n=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){"use strict";var n=r(1),i=r(11),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.a=function(t,e){if(Object(n.a)(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Object(i.a)(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,r){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){"use strict";var n=r(1),i=r(21),o=r(17);function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(s.Cache||o.a),r}s.Cache=o.a;var a=s,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,h=function(t){var e=a(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(c,function(t,r,n,i){e.push(n?i.replace(u,"$1"):r||t)}),e},function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}(),l=r(5),f=r(28),d=r(11),p=l.a?l.a.prototype:void 0,v=p?p.toString:void 0,y=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(Object(n.a)(e))return Object(f.a)(e,t)+"";if(Object(d.a)(e))return v?v.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}(t)};e.a=function(t,e){return Object(n.a)(t)?t:Object(i.a)(t,e)?[t]:h(y(t))}},function(t,e,r){"use strict";var n=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),s=o.length;s--;){var a=o[++n];if(!1===e(i[a],a,i))break}return t},i=r(19),o=r(10),s=function(t,e){return function(e,r){if(null==e)return e;if(!Object(o.a)(e))return t(e,r);for(var n=e.length,i=-1,s=Object(e);++i<n&&!1!==r(s[i],i,s););return e}}(function(t,e){return t&&n(t,e,i.a)});e.a=s},function(t,e,r){"use strict";var n=r(8),i=r(7),o=function(t){return Object(i.a)(t)&&"[object Arguments]"==Object(n.a)(t)},s=Object.prototype,a=s.hasOwnProperty,c=s.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return Object(i.a)(t)&&a.call(t,"callee")&&!c.call(t,"callee")};e.a=u},function(t,r,n){"use strict";(function(t){var i=n(2),o=n(49),s="object"==typeof e&&e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===s?i.a.Buffer:void 0,u=(c?c.isBuffer:void 0)||o.a;r.a=u}).call(this,n(48)(t))},function(t,e,r){"use strict";var n=r(24),i=r(14),o=r(1);e.a=function(t,e){return(Object(o.a)(t)?function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}:n.a)(t,function(t){return"function"==typeof t?t:i.a}(e))}},function(t,e,r){"use strict";e.a=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},function(t,e,r){"use strict";var n=r(23),i=r(12);e.a=function(t,e){for(var r=0,o=(e=Object(n.a)(e,t)).length;null!=t&&r<o;)t=t[Object(i.a)(e[r++])];return r&&r==o?t:void 0}},function(t,e,r){"use strict";var n=r(15),i=r(16),o=r(17);function s(t){var e=this.__data__=new n.a(t);this.size=e.size}s.prototype.clear=function(){this.__data__=new n.a,this.size=0},s.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},s.prototype.get=function(t){return this.__data__.get(t)},s.prototype.has=function(t){return this.__data__.has(t)},s.prototype.set=function(t,e){var r=this.__data__;if(r instanceof n.a){var s=r.__data__;if(!i.a||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o.a(s)}return r.set(t,e),this.size=r.size,this};var a=s,c=r(43),u=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},h=r(38),l=function(t,e,r,n,i,o){var s=1&r,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var p=-1,v=!0,y=2&r?new c.a:void 0;for(o.set(t,e),o.set(e,t);++p<a;){var _=t[p],b=e[p];if(n)var m=s?n(b,_,p,e,t,o):n(_,b,p,t,e,o);if(void 0!==m){if(m)continue;v=!1;break}if(y){if(!u(e,function(t,e){if(!Object(h.a)(y,e)&&(_===t||i(_,t,r,n,o)))return y.push(e)})){v=!1;break}}else if(_!==b&&!i(_,b,r,n,o)){v=!1;break}}return o.delete(t),o.delete(e),v},f=r(5),d=r(2).a.Uint8Array,p=r(22),v=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r},y=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},_=f.a?f.a.prototype:void 0,b=_?_.valueOf:void 0,m=function(t,e,r,n,i,o,s){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new d(t),new d(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(p.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=v;case"[object Set]":var c=1&n;if(a||(a=y),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;n|=2,s.set(t,e);var h=l(a(t),a(e),n,i,o,s);return s.delete(t),h;case"[object Symbol]":if(b)return b.call(t)==b.call(e)}return!1},g=r(39),w=r(1),k=r(40),E=Object.prototype.propertyIsEnumerable,S=Object.getOwnPropertySymbols,O=S?function(t){return null==t?[]:(t=Object(t),Object(k.a)(S(t),function(e){return E.call(t,e)}))}:function(){return[]},T=r(19),A=function(t){return function(t,e,r){var n=e(t);return Object(w.a)(t)?n:Object(g.a)(n,r(t))}(t,T.a,O)},C=Object.prototype.hasOwnProperty,R=r(36),x=r(26),N=r(31),j="[object Object]",I=Object.prototype.hasOwnProperty,D=function(t,e,r,n,i,o){var s=Object(w.a)(t),c=Object(w.a)(e),u=s?"[object Array]":Object(R.a)(t),h=c?"[object Array]":Object(R.a)(e),f=(u="[object Arguments]"==u?j:u)==j,d=(h="[object Arguments]"==h?j:h)==j,p=u==h;if(p&&Object(x.a)(t)){if(!Object(x.a)(e))return!1;s=!0,f=!1}if(p&&!f)return o||(o=new a),s||Object(N.a)(t)?l(t,e,r,n,i,o):m(t,e,u,r,n,i,o);if(!(1&r)){var v=f&&I.call(t,"__wrapped__"),y=d&&I.call(e,"__wrapped__");if(v||y){var _=v?t.value():t,b=y?e.value():e;return o||(o=new a),i(_,b,r,n,o)}}return!!p&&(o||(o=new a),function(t,e,r,n,i,o){var s=1&r,a=A(t),c=a.length;if(c!=A(e).length&&!s)return!1;for(var u=c;u--;){var h=a[u];if(!(s?h in e:C.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++u<c;){var v=t[h=a[u]],y=e[h];if(n)var _=s?n(y,v,h,e,t,o):n(v,y,h,t,e,o);if(!(void 0===_?v===y||i(v,y,r,n,o):_)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o))},L=r(7),M=function t(e,r,n,i,o){return e===r||(null==e||null==r||!Object(L.a)(e)&&!Object(L.a)(r)?e!=e&&r!=r:D(e,r,n,i,t,o))},P=r(3),B=function(t){return t==t&&!Object(P.a)(t)},U=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},z=function(t){var e=function(t){for(var e=Object(T.a)(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,B(i)]}return e}(t);return 1==e.length&&e[0][2]?U(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var u=(c=r[i])[0],h=t[u],l=c[1];if(s&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new a;if(n)var d=n(h,l,u,t,e,f);if(!(void 0===d?M(l,h,3,n,f):d))return!1}}return!0}(r,t,e)}},H=r(50),q=r(41),F=r(21),Y=r(12),W=r(14),V=r(29),X=function(t){return Object(F.a)(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Object(Y.a)(t)):function(t){return function(e){return Object(V.a)(e,t)}}(t)};e.a=function(t){return"function"==typeof t?t:null==t?W.a:"object"==typeof t?Object(w.a)(t)?function(t,e){return Object(F.a)(t)&&B(e)?U(Object(Y.a)(t),e):function(r){var n=Object(H.a)(r,t);return void 0===n&&n===e?Object(q.a)(r,t):M(e,n,3)}}(t[0],t[1]):z(t):X(t)}},function(t,e,r){"use strict";var n=r(8),i=r(18),o=r(7),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var a=r(37),c=r(46),u=c.a&&c.a.isTypedArray,h=u?Object(a.a)(u):function(t){return Object(o.a)(t)&&Object(i.a)(t.length)&&!!s[Object(n.a)(t)]};e.a=h},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(55))},function(t,e,r){"use strict";var n=r(8),i=r(3);e.a=function(t){if(!Object(i.a)(t))return!1;var e=Object(n.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){"use strict";var n=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(e,r,n){(function(i){var o;
/*!
     * EventEmitter2
     * https://github.com/hij1nx/EventEmitter2
     *
     * Copyright (c) 2013 hij1nx
     * Licensed under the MIT license.
     */!function(s){var a=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function c(){this._events={},this._conf&&u.call(this,this._conf)}function u(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=void 0!==t.maxListeners?t.maxListeners:10,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function h(t,e){var r="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+e+"."),void 0!==i&&i.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=t,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}function l(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,u.call(this,t)}function f(t,e,r,n){if(!r)return[];var i,o,s,a,c,u,h,l=[],d=e.length,p=e[n],v=e[n+1];if(n===d&&r._listeners){if("function"==typeof r._listeners)return t&&t.push(r._listeners),[r];for(i=0,o=r._listeners.length;i<o;i++)t&&t.push(r._listeners[i]);return[r]}if("*"===p||"**"===p||r[p]){if("*"===p){for(s in r)"_listeners"!==s&&r.hasOwnProperty(s)&&(l=l.concat(f(t,e,r[s],n+1)));return l}if("**"===p){for(s in(h=n+1===d||n+2===d&&"*"===v)&&r._listeners&&(l=l.concat(f(t,e,r,d))),r)"_listeners"!==s&&r.hasOwnProperty(s)&&("*"===s||"**"===s?(r[s]._listeners&&!h&&(l=l.concat(f(t,e,r[s],d))),l=l.concat(f(t,e,r[s],n))):l=s===v?l.concat(f(t,e,r[s],n+2)):l.concat(f(t,e,r[s],n)));return l}l=l.concat(f(t,e,r[p],n+1))}if((a=r["*"])&&f(t,e,a,n+1),c=r["**"])if(n<d)for(s in c._listeners&&f(t,e,c,d),c)"_listeners"!==s&&c.hasOwnProperty(s)&&(s===v?f(t,e,c[s],n+2):s===p?f(t,e,c[s],n+1):((u={})[s]=c[s],f(t,e,{"**":u},n+1)));else c._listeners?f(t,e,c,d):c["*"]&&c["*"]._listeners&&f(t,e,c["*"],d);return l}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(t){void 0!==t&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},l.prototype.event="",l.prototype.once=function(t,e){return this._once(t,e,!1)},l.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},l.prototype._once=function(t,e,r){return this._many(t,1,e,r),this},l.prototype.many=function(t,e,r){return this._many(t,e,r,!1)},l.prototype.prependMany=function(t,e,r){return this._many(t,e,r,!0)},l.prototype._many=function(t,e,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--e&&i.off(t,o),r.apply(this,arguments)}return o._origin=r,this._on(t,o,n),i},l.prototype.emit=function(){this._events||c.call(this);var t=arguments[0];if("newListener"===t&&!this._newListener&&!this._events.newListener)return!1;var e,r,n,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=t,s){case 1:o[n].call(this,t);break;case 2:o[n].call(this,t,arguments[1]);break;case 3:o[n].call(this,t,arguments[1],arguments[2]);break;default:o[n].apply(this,e)}}if(this.wildcard){o=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();f.call(this,o,a,this.listenerTree,0)}else{if("function"==typeof(o=this._events[t])){switch(this.event=t,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];o.apply(this,e)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(e=new Array(s-1),i=1;i<s;i++)e[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=t,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return t.resolve([!1]);var r,n,i,o,s,a=[],u=arguments.length;if(this._all){if(u>3)for(r=new Array(u),o=1;o<u;o++)r[o]=arguments[o];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,u){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,r))}}if(this.wildcard){s=[];var h="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,s,h,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,u){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(u-1),o=1;o<u;o++)r[o-1]=arguments[o];a.push(s.apply(this,r))}else if(s&&s.length){if(s=s.slice(),u>3)for(r=new Array(u-1),o=1;o<u;o++)r[o-1]=arguments[o];for(i=0,n=s.length;i<n;i++)switch(this.event=e,u){case 1:a.push(s[i].call(this));break;case 2:a.push(s[i].call(this,arguments[1]));break;case 3:a.push(s[i].call(this,arguments[1],arguments[2]));break;default:a.push(s[i].apply(this,r))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?t.reject(arguments[1]):t.reject("Uncaught, unspecified 'error' event.");return t.all(a)},l.prototype.on=function(t,e){return this._on(t,e,!1)},l.prototype.prependListener=function(t,e){return this._on(t,e,!0)},l.prototype.onAny=function(t){return this._onAny(t,!1)},l.prototype.prependAny=function(t){return this._onAny(t,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},l.prototype._on=function(t,e,r){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this._newListener&&this.emit("newListener",t,e),this.wildcard?(function(t,e){for(var r=0,n=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;r+1<n;r++)if("**"===t[r]&&"**"===t[r+1])return;for(var i=this.listenerTree,o=t.shift();void 0!==o;){if(i[o]||(i[o]={}),i=i[o],0===t.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(e),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,h.call(this,i._listeners.length,o))):i._listeners=e,!0;o=t.shift()}return!0}.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),r?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,h.call(this,this._events[t].length,t))):this._events[t]=e,this)},l.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var i="string"==typeof t?t.split(this.delimiter):t.slice();n=f.call(this,null,i,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],n.push({_listeners:r})}for(var o=0;o<n.length;o++){var s=n[o];if(r=s._listeners,a(r)){for(var c=-1,u=0,h=r.length;u<h;u++)if(r[u]===e||r[u].listener&&r[u].listener===e||r[u]._origin&&r[u]._origin===e){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[t].splice(c,1),0===r.length&&(this.wildcard?delete s._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete s._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return function t(e){if(void 0!==e){var r=Object.keys(e);for(var n in r){var i=r[n],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&t(e[i]),0===Object.keys(o).length&&delete e[i])}}}(this.listenerTree),this},l.prototype.offAny=function(t){var e,r=0,n=0;if(t&&this._all&&this._all.length>0){for(r=0,n=(e=this._all).length;r<n;r++)if(t===e[r])return e.splice(r,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(e=this._all,this._removeListener)for(r=0,n=e.length;r<n;r++)this.emit("removeListenerAny",e[r]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(t){if(void 0===t)return!this._events||c.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),r=f.call(this,null,e,this.listenerTree,0),n=0;n<r.length;n++)r[n]._listeners=null;else this._events&&(this._events[t]=null);return this},l.prototype.listeners=function(t){if(this.wildcard){var e=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return f.call(this,e,r,this.listenerTree,0),e}return this._events||c.call(this),this._events[t]||(this._events[t]=[]),a(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(t){return this.listeners(t).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(o=function(){return l}.call(r,n,r,e))||(e.exports=o)}()}).call(this,n(56))},function(t,e,r){"use strict";var n=r(6),i=r(2),o=Object(n.a)(i.a,"DataView"),s=r(16),a=Object(n.a)(i.a,"Promise"),c=Object(n.a)(i.a,"Set"),u=Object(n.a)(i.a,"WeakMap"),h=r(8),l=r(13),f=Object(l.a)(o),d=Object(l.a)(s.a),p=Object(l.a)(a),v=Object(l.a)(c),y=Object(l.a)(u),_=h.a;(o&&"[object DataView]"!=_(new o(new ArrayBuffer(1)))||s.a&&"[object Map]"!=_(new s.a)||a&&"[object Promise]"!=_(a.resolve())||c&&"[object Set]"!=_(new c)||u&&"[object WeakMap]"!=_(new u))&&(_=function(t){var e=Object(h.a)(t),r="[object Object]"==e?t.constructor:void 0,n=r?Object(l.a)(r):"";if(n)switch(n){case f:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case v:return"[object Set]";case y:return"[object WeakMap]"}return e}),e.a=_},function(t,e,r){"use strict";e.a=function(t){return function(e){return t(e)}}},function(t,e,r){"use strict";e.a=function(t,e){return t.has(e)}},function(t,e,r){"use strict";e.a=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},function(t,e,r){"use strict";e.a=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},function(t,e,r){"use strict";var n=function(t,e){return null!=t&&e in Object(t)},i=r(23),o=r(25),s=r(1),a=r(20),c=r(18),u=r(12);e.a=function(t,e){return null!=t&&function(t,e,r){for(var n=-1,h=(e=Object(i.a)(e,t)).length,l=!1;++n<h;){var f=Object(u.a)(e[n]);if(!(l=null!=t&&r(t,f)))break;t=t[f]}return l||++n!=h?l:!!(h=null==t?0:t.length)&&Object(c.a)(h)&&Object(a.a)(f,h)&&(Object(s.a)(t)||Object(o.a)(t))}(t,e,n)}},function(t,e,r){"use strict";var n=r(34),i=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),o=Object.prototype.hasOwnProperty;e.a=function(t){if(!Object(n.a)(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){"use strict";var n=r(17);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n.a;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},i.prototype.has=function(t){return this.__data__.has(t)},e.a=i},function(t,e,r){"use strict";var n,i,o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(){function t(){this.id_prop=t.ID_PROP+Date.now(),this.nodes=[],this.values=[]}return t.prototype.isIndex=function(t){return+t==t>>>0},t.prototype.nodeId=function(e){var r=e[this.id_prop];return r||(r=e[this.id_prop]=t.nextId_++),r},t.prototype.set=function(t,e){var r=this.nodeId(t);this.nodes[r]=t,this.values[r]=e},t.prototype.get=function(t){var e=this.nodeId(t);return this.values[e]},t.prototype.has=function(t){return this.nodeId(t)in this.nodes},t.prototype.delete=function(t){var e=this.nodeId(t);delete this.nodes[e],this.values[e]=void 0},t.prototype.keys=function(){var t=[];for(var e in this.nodes)this.isIndex(e)&&t.push(this.nodes[e]);return t},t.ID_PROP="__mutation_summary_node_map_id__",t.nextId_=1,t}();!function(t){t[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED"}(i||(i={}));var a=function(){function t(t,e,r,n,i,o,s,a){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===s&&(s=null),void 0===a&&(a=null),this.node=t,this.childList=e,this.attributes=r,this.characterData=n,this.oldParentNode=i,this.added=o,this.attributeOldValues=s,this.characterDataOldValue=a,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return t.prototype.getAttributeOldValue=function(t){if(this.attributeOldValues)return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},t.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;for(var e in this.attributeOldValues)t.push(e);return t},t.prototype.attributeMutated=function(t,e){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues||(this.attributeOldValues[t]=e)},t.prototype.characterDataMutated=function(t){this.characterData||(this.characterData=!0,this.characterDataOldValue=t)},t.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},t.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},t.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t}(),c=function(){this.added=new s,this.removed=new s,this.maybeMoved=new s,this.oldPrevious=new s,this.moved=void 0},u=function(t){function e(e,r){var n=t.call(this)||this;n.rootNode=e,n.reachableCache=void 0,n.wasReachableCache=void 0,n.anyParentsChanged=!1,n.anyAttributesChanged=!1,n.anyCharacterDataChanged=!1;for(var i=0;i<r.length;i++){var o=r[i];switch(o.type){case"childList":n.anyParentsChanged=!0;for(var s=0;s<o.removedNodes.length;s++){var a=o.removedNodes[s];n.getChange(a).removedFromParent(o.target)}for(s=0;s<o.addedNodes.length;s++)a=o.addedNodes[s],n.getChange(a).insertedIntoParent();break;case"attributes":n.anyAttributesChanged=!0,n.getChange(o.target).attributeMutated(o.attributeName,o.oldValue);break;case"characterData":n.anyCharacterDataChanged=!0,n.getChange(o.target).characterDataMutated(o.oldValue)}}return n}return o(e,t),e.prototype.getChange=function(t){var e=this.get(t);return e||(e=new a(t),this.set(t,e)),e},e.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},e.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.reachableCache=this.reachableCache||new s;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},e.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.wasReachableCache=this.wasReachableCache||new s;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},e.prototype.reachabilityChange=function(t){return this.getIsReachable(t)?this.getWasReachable(t)?i.STAYED_IN:i.ENTERED:this.getWasReachable(t)?i.EXITED:i.STAYED_OUT},e}(s),h=function(){function t(t,e,r,n,i){this.rootNode=t,this.mutations=e,this.selectors=r,this.calcReordered=n,this.calcOldPreviousSibling=i,this.treeChanges=new u(t,e),this.entered=[],this.exited=[],this.stayedIn=new s,this.visited=new s,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return t.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var t=this.treeChanges.keys(),e=0;e<t.length;e++)this.visitNode(t[e],void 0)},t.prototype.visitNode=function(t,e){if(!this.visited.has(t)){this.visited.set(t,!0);var r=this.treeChanges.get(t),n=e;if((r&&r.childList||null==n)&&(n=this.treeChanges.reachabilityChange(t)),n!==i.STAYED_OUT){if(this.matchabilityChange(t),n===i.ENTERED)this.entered.push(t);else if(n===i.EXITED)this.exited.push(t),this.ensureHasOldPreviousSiblingIfNeeded(t);else if(n===i.STAYED_IN){var o=i.STAYED_IN;r&&r.childList&&(r.oldParentNode!==t.parentNode?(o=i.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(t)):this.calcReordered&&this.wasReordered(t)&&(o=i.REORDERED)),this.stayedIn.set(t,o)}if(n!==i.STAYED_IN)for(var s=t.firstChild;s;s=s.nextSibling)this.visitNode(s,n)}}},t.prototype.ensureHasOldPreviousSiblingIfNeeded=function(t){if(this.calcOldPreviousSibling){this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);n||(n=new c,this.childListChangeMap.set(e,n)),n.oldPrevious.has(t)||n.oldPrevious.set(t,t.previousSibling)}},t.prototype.getChanged=function(t,e,r){this.selectors=e,this.characterDataOnly=r;for(var n=0;n<this.entered.length;n++){var o=this.entered[n];(c=this.matchabilityChange(o))!==i.ENTERED&&c!==i.STAYED_IN||t.added.push(o)}var s=this.stayedIn.keys();for(n=0;n<s.length;n++)if(o=s[n],(c=this.matchabilityChange(o))===i.ENTERED)t.added.push(o);else if(c===i.EXITED)t.removed.push(o);else if(c===i.STAYED_IN&&(t.reparented||t.reordered)){var a=this.stayedIn.get(o);t.reparented&&a===i.REPARENTED?t.reparented.push(o):t.reordered&&a===i.REORDERED&&t.reordered.push(o)}for(n=0;n<this.exited.length;n++){var c;o=this.exited[n],(c=this.matchabilityChange(o))!==i.EXITED&&c!==i.STAYED_IN||t.removed.push(o)}},t.prototype.getOldParentNode=function(t){var e=this.treeChanges.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var r=this.treeChanges.reachabilityChange(t);if(r===i.STAYED_OUT||r===i.ENTERED)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},t.prototype.getOldPreviousSibling=function(t){var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);if(!n)throw Error("getOldPreviousSibling requested on invalid node.");return n.oldPrevious.get(t)},t.prototype.getOldAttribute=function(t,e){var r=this.treeChanges.get(t);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var n=r.getAttributeOldValue(e);if(void 0===n)throw Error("getOldAttribute requested for unchanged attribute name.");return n},t.prototype.attributeChangedNodes=function(t){if(!this.treeChanges.anyAttributesChanged)return{};var e,r;if(t){e={},r={};for(var n=0;n<t.length;n++)e[f=t[n]]=!0,r[f.toLowerCase()]=f}var o={},s=this.treeChanges.keys();for(n=0;n<s.length;n++){var a=s[n],c=this.treeChanges.get(a);if(c.attributes&&i.STAYED_IN===this.treeChanges.reachabilityChange(a)&&i.STAYED_IN===this.matchabilityChange(a))for(var u=a,h=c.getAttributeNamesMutated(),l=0;l<h.length;l++){var f=h[l];(!e||e[f]||c.isCaseInsensitive&&r[f])&&c.getAttributeOldValue(f)!==u.getAttribute(f)&&(r&&c.isCaseInsensitive&&(f=r[f]),o[f]=o[f]||[],o[f].push(u))}}return o},t.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},t.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=this.treeChanges.keys(),e=[],r=0;r<t.length;r++){var n=t[r];if(i.STAYED_IN===this.treeChanges.reachabilityChange(n)){var o=this.treeChanges.get(n);o.characterData&&n.textContent!=o.characterDataOldValue&&e.push(n)}}return e},t.prototype.computeMatchabilityChange=function(t,e){this.matchCache||(this.matchCache=[]),this.matchCache[t.uid]||(this.matchCache[t.uid]=new s);var r=this.matchCache[t.uid],n=r.get(e);return void 0===n&&(n=t.matchabilityChange(e,this.treeChanges.get(e)),r.set(e,n)),n},t.prototype.matchabilityChange=function(t){var e=this;if(this.characterDataOnly)switch(t.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return i.STAYED_IN;default:return i.STAYED_OUT}if(!this.selectors)return i.STAYED_IN;if(t.nodeType!==Node.ELEMENT_NODE)return i.STAYED_OUT;for(var r=t,n=this.selectors.map(function(t){return e.computeMatchabilityChange(t,r)}),o=i.STAYED_OUT,s=0;o!==i.STAYED_IN&&s<n.length;){switch(n[s]){case i.STAYED_IN:o=i.STAYED_IN;break;case i.ENTERED:o=o===i.EXITED?i.STAYED_IN:i.ENTERED;break;case i.EXITED:o=o===i.ENTERED?i.STAYED_IN:i.EXITED}s++}return o},t.prototype.getChildlistChange=function(t){var e=this.childListChangeMap.get(t);return e||(e=new c,this.childListChangeMap.set(t,e)),e},t.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new s;for(var t=0;t<this.mutations.length;t++){var e=this.mutations[t];if("childList"==e.type&&(this.treeChanges.reachabilityChange(e.target)===i.STAYED_IN||this.calcOldPreviousSibling)){for(var r=this.getChildlistChange(e.target),n=e.previousSibling,o=0;o<e.removedNodes.length;o++)c(a=e.removedNodes[o],n),r.added.has(a)?r.added.delete(a):(r.removed.set(a,!0),r.maybeMoved.delete(a)),n=a;for(c(e.nextSibling,n),o=0;o<e.addedNodes.length;o++){var a=e.addedNodes[o];r.removed.has(a)?(r.removed.delete(a),r.maybeMoved.set(a,!0)):r.added.set(a,!0)}}function c(t,e){!t||r.oldPrevious.has(t)||r.added.has(t)||r.maybeMoved.has(t)||e&&(r.added.has(e)||r.maybeMoved.has(e))||r.oldPrevious.set(t,e)}}}},t.prototype.wasReordered=function(t){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);if(!n)return!1;if(n.moved)return n.moved.get(t);n.moved=new s;var i=new s;var o=new s,a=new s;return n.maybeMoved.keys().forEach(function t(e){if(!e)return!1;if(!n.maybeMoved.has(e))return!1;var r=n.moved.get(e);return void 0!==r||(i.has(e)?r=!0:(i.set(e,!0),r=function(e){if(a.has(e))return a.get(e);for(var r=e.previousSibling;r&&(n.added.has(r)||t(r));)r=r.previousSibling;return a.set(e,r),r}(e)!==function e(r){var i=o.get(r);if(void 0!==i)return i;for(i=n.oldPrevious.get(r);i&&(n.removed.has(i)||t(i));)i=e(i);return void 0===i&&(i=r.previousSibling),o.set(r,i),i}(e)),i.has(e)?(i.delete(e),n.moved.set(e,r)):r=n.moved.get(e)),r}),n.moved.get(t)},t}(),l=function(){function t(t,e){var r=this;if(this.projection=t,this.added=[],this.removed=[],this.reparented=e.all||e.element||e.characterData?[]:void 0,this.reordered=e.all?[]:void 0,t.getChanged(this,e.elementFilter,e.characterData),e.all||e.attribute||e.attributeList){var n=e.attribute?[e.attribute]:e.attributeList,i=t.attributeChangedNodes(n);e.attribute?this.valueChanged=i[e.attribute]||[]:(this.attributeChanged=i,e.attributeList&&e.attributeList.forEach(function(t){r.attributeChanged.hasOwnProperty(t)||(r.attributeChanged[t]=[])}))}if(e.all||e.characterData){var o=t.getCharacterDataChanged();e.characterData?this.valueChanged=o:this.characterDataChanged=o}this.reordered&&(this.getOldPreviousSibling=t.getOldPreviousSibling.bind(t))}return t.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},t.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},t.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},t.prototype.getOldPreviousSibling=function(t){return this.projection.getOldPreviousSibling(t)},t}(),f=/[a-zA-Z_]+/,d=/[a-zA-Z0-9_\-]+/;function p(t){return'"'+t.replace(/"/,'\\"')+'"'}var v=function(){function t(){}return t.prototype.matches=function(t){if(null===t)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==t;for(var e=t.split(" "),r=0;r<e.length;r++)if(this.attrValue===e[r])return!0;return!1},t.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+p(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+p(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},t}(),y=function(){function t(){this.uid=t.nextUid++,this.qualifiers=[]}var e;return Object.defineProperty(t.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),t.prototype.isMatching=function(e){return e[t.matchesSelector](this.selectorString)},t.prototype.wasMatching=function(t,e,r){if(!e||!e.attributes)return r;var n=e.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==n&&n!==t.tagName)return!1;for(var i=[],o=!1,s=0;s<this.qualifiers.length;s++){var a=this.qualifiers[s],c=e.getAttributeOldValue(a.attrName);i.push(c),o=o||void 0!==c}if(!o)return r;for(s=0;s<this.qualifiers.length;s++)if(a=this.qualifiers[s],void 0===(c=i[s])&&(c=t.getAttribute(a.attrName)),!a.matches(c))return!1;return!0},t.prototype.matchabilityChange=function(t,e){var r=this.isMatching(t);return r?this.wasMatching(t,e,r)?i.STAYED_IN:i.ENTERED:this.wasMatching(t,e,r)?i.EXITED:i.STAYED_OUT},t.parseSelectors=function(e){var r,n,i=[];function o(){r&&(n&&(r.qualifiers.push(n),n=void 0),i.push(r)),r=new t}function s(){n&&r.qualifiers.push(n),n=new v}for(var a,c=/\s/,u="Invalid or unsupported selector syntax.",h=1,l=0;l<e.length;){var p=e[l++];switch(h){case 1:if(p.match(f)){o(),r.tagName=p,h=2;break}if("*"==p){o(),r.tagName="*",h=3;break}if("."==p){o(),s(),r.tagName="*",n.attrName="class",n.contains=!0,h=4;break}if("#"==p){o(),s(),r.tagName="*",n.attrName="id",h=4;break}if("["==p){o(),s(),r.tagName="*",n.attrName="",h=6;break}if(p.match(c))break;throw Error(u);case 2:if(p.match(d)){r.tagName+=p;break}if("."==p){s(),n.attrName="class",n.contains=!0,h=4;break}if("#"==p){s(),n.attrName="id",h=4;break}if("["==p){s(),n.attrName="",h=6;break}if(p.match(c)){h=14;break}if(","==p){h=1;break}throw Error(u);case 3:if("."==p){s(),n.attrName="class",n.contains=!0,h=4;break}if("#"==p){s(),n.attrName="id",h=4;break}if("["==p){s(),n.attrName="",h=6;break}if(p.match(c)){h=14;break}if(","==p){h=1;break}throw Error(u);case 4:if(p.match(f)){n.attrValue=p,h=5;break}throw Error(u);case 5:if(p.match(d)){n.attrValue+=p;break}if("."==p){s(),n.attrName="class",n.contains=!0,h=4;break}if("#"==p){s(),n.attrName="id",h=4;break}if("["==p){s(),h=6;break}if(p.match(c)){h=14;break}if(","==p){h=1;break}throw Error(u);case 6:if(p.match(f)){n.attrName=p,h=7;break}if(p.match(c))break;throw Error(u);case 7:if(p.match(d)){n.attrName+=p;break}if(p.match(c)){h=8;break}if("~"==p){n.contains=!0,h=9;break}if("="==p){n.attrValue="",h=11;break}if("]"==p){h=3;break}throw Error(u);case 8:if("~"==p){n.contains=!0,h=9;break}if("="==p){n.attrValue="",h=11;break}if("]"==p){h=3;break}if(p.match(c))break;throw Error(u);case 9:if("="==p){n.attrValue="",h=11;break}throw Error(u);case 10:if("]"==p){h=3;break}if(p.match(c))break;throw Error(u);case 11:if(p.match(c))break;if('"'==p||"'"==p){a=p,h=13;break}n.attrValue+=p,h=12;break;case 12:if(p.match(c)){h=10;break}if("]"==p){h=3;break}if("'"==p||'"'==p)throw Error(u);n.attrValue+=p;break;case 13:if(p==a){h=10;break}n.attrValue+=p;break;case 14:if(p.match(c))break;if(","==p){h=1;break}throw Error(u)}}switch(h){case 1:case 2:case 3:case 5:case 14:o();break;default:throw Error(u)}if(!i.length)throw Error(u);return i},t.nextUid=1,t.matchesSelector="function"==typeof(e=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof e.mozMatchesSelector?"mozMatchesSelector":"function"==typeof e.msMatchesSelector?"msMatchesSelector":"matchesSelector",t}(),_=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function b(t){if("string"!=typeof t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(t=t.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!t.match(_))throw Error("Invalid request option. invalid attribute name: "+t);return t}function m(t){if(!t.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var e={},r={},n=t.split(/\s+/),i=0;i<n.length;i++)if(o=n[i]){var o,s=(o=b(o)).toLowerCase();if(e[s])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");r[o]=!0,e[s]=!0}return Object.keys(r)}var g=function(){function t(e){var r,n=this;if(this.connected=!1,this.options=t.validateOptions(e),this.observerOptions=t.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(t){return t.elementFilter?t.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(t){return t.all}),this.queryValidators=[],t.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return t.createQueryValidator(n.root,e)})),void 0===(r="undefined"!=typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver))throw console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver"),Error("DOM Mutation Observers are required");this.observer=new r(function(t){n.observerCallback(t)}),this.reconnect()}return t.createObserverOptions=function(t){var e,r={childList:!0,subtree:!0};function n(t){r.attributes&&!e||(r.attributes=!0,r.attributeOldValue=!0,t?(e=e||{},t.forEach(function(t){e[t]=!0,e[t.toLowerCase()]=!0})):e=void 0)}return t.forEach(function(t){if(t.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(t.all)return n(),r.characterData=!0,void(r.characterDataOldValue=!0);if(t.attribute)n([t.attribute.trim()]);else{var e=function(t){var e={};return t.forEach(function(t){t.qualifiers.forEach(function(t){e[t.attrName]=!0})}),Object.keys(e)}(t.elementFilter).concat(t.attributeList||[]);e.length&&n(e)}}),e&&(r.attributeFilter=Object.keys(e)),r},t.validateOptions=function(e){for(var r in e)if(!(r in t.optionKeys))throw Error("Invalid option: "+r);if("function"!=typeof e.callback)throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var n={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},i=0;i<e.queries.length;i++){var o=e.queries[i];if(o.all){if(Object.keys(o).length>1)throw Error("Invalid request option. all has no options.");n.queries.push({all:!0})}else if("attribute"in o){if((a={attribute:b(o.attribute)}).elementFilter=y.parseSelectors("*["+a.attribute+"]"),Object.keys(o).length>1)throw Error("Invalid request option. attribute has no options.");n.queries.push(a)}else if("element"in o){var s=Object.keys(o).length,a={element:o.element,elementFilter:y.parseSelectors(o.element)};if(o.hasOwnProperty("elementAttributes")&&(a.attributeList=m(o.elementAttributes),s--),s>1)throw Error("Invalid request option. element only allows elementAttributes option.");n.queries.push(a)}else{if(!o.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(o).length>1)throw Error("Invalid request option. characterData has no options.");n.queries.push({characterData:!0})}}return n},t.prototype.createSummaries=function(t){if(!t||!t.length)return[];for(var e=new h(this.root,t,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),r=[],n=0;n<this.options.queries.length;n++)r.push(new l(e,this.options.queries[n]));return r},t.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(t){t&&t.recordPreviousState()})},t.prototype.runQueryValidators=function(t){this.queryValidators.forEach(function(e,r){e&&e.validate(t[r])})},t.prototype.changesToReport=function(t){return t.some(function(t){return!!["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(e){return t[e]&&t[e].length})||!(!t.attributeChanged||!Object.keys(t.attributeChanged).some(function(e){return!!t.attributeChanged[e].length}))})},t.prototype.observerCallback=function(t){this.options.observeOwnChanges||this.observer.disconnect();var e=this.createSummaries(t);this.runQueryValidators(e),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(e)&&this.callback(e),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},t.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},t.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var t=this.createSummaries(this.observer.takeRecords());return this.changesToReport(t)?t:void 0},t.prototype.disconnect=function(){var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},t.NodeMap=s,t.parseElementFilter=y.parseSelectors,t.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},t}(),w=r(9),k=r(0);r.d(e,"a",function(){return S}),r.d(e,"b",function(){return O});var E=function(){return(E=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},S=function(){function t(t,e){this.root=t,this.delegate=e,this.idMap={},this.isNodeCaseSensitive=null}return t.prototype.initialize=function(t,e){this.idMap[t]=this.root;for(var r=0;r<e.length;r++)this.deserializeNode(e[r],this.root)},t.prototype.applyChanged=function(t,e,r,n){var i=this;e.forEach(function(t){var e=i.deserializeNode(t);i.deserializeNode(t.parentNode),i.deserializeNode(t.previousSibling),e.parentNode&&e.parentNode.removeChild(e)}),t.forEach(function(t){var e=i.deserializeNode(t);e.parentNode&&e.parentNode.removeChild(e)}),e.forEach(function(t){var e=i.deserializeNode(t),r=i.deserializeNode(t.parentNode);t.shadowRootId===t.parentNode.id&&(r=r.shadowRoot);var n=i.deserializeNode(t.previousSibling);try{r.insertBefore(e,n?n.nextSibling:r.firstChild)}catch(t){console.warn("player insertBefore error",e,r,n,t),r.parentNode.insertBefore(e,n.nextSibling)}}),r.forEach(function(t){var e=i.deserializeNode(t);Object.keys(t.attributes).forEach(function(r){var n=t.attributes[r];if(null===n)e.removeAttribute(r);else if(!i.delegate||!i.delegate.setAttribute||!i.delegate.setAttribute(e,r,n))try{e.setAttribute(r,n)}catch(t){}})}),n.forEach(function(t){i.deserializeNode(t).textContent=t.textContent}),t.forEach(function(t){delete i.idMap[t.id]})},t.prototype.isCaseSensitiveDocumentType=function(t){if(t&&t.tagName){if("html"===t.tagName)return!0;if("HTML"===t.tagName)return!1}return null},t.prototype.deserializeNode=function(t,e){var r=this;if(null===t)return null;var n=this.idMap[t.id];if(n)return n;var i=this.root.ownerDocument;switch(null===i&&(i=this.root),t.nodeType){case Node.COMMENT_NODE:n=i.createComment(t.textContent);break;case Node.TEXT_NODE:n=i.createTextNode(t.textContent);break;case Node.DOCUMENT_TYPE_NODE:n=i.implementation.createDocumentType(t.name,t.publicId,t.systemId);break;case Node.ELEMENT_NODE:null==this.isNodeCaseSensitive&&(this.isNodeCaseSensitive=this.isCaseSensitiveDocumentType(t)),this.delegate&&this.delegate.createElement&&(n=this.delegate.createElement(t.tagName,{caseInsensitive:!this.isNodeCaseSensitive})),n||(n=i.createElement(t.tagName)),t.isShadowRoot&&(n.attachShadow({mode:"open"}).innerHTML=""),Object.keys(t.attributes).forEach(function(e){r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(n,e,t.attributes[e])||n.setAttribute(e,t.attributes[e])});break;default:console.warn("Unknown nodeType("+t.nodeType+")",t),n=i.createComment("")}if(!n)throw"ouch";if(this.idMap[t.id]=n,e&&e.appendChild(n),t.childNodes)for(var o=0;o<t.childNodes.length;o++)this.deserializeNode(t.childNodes[o],t.isShadowRoot&&t.childNodes[o].shadowRootId?n.shadowRoot:n);return n},t}(),O=function(){function t(t,e,r,n,i){var o=this;this.target=t,this.clientReceiver=e,this.options=n,this.emitter=i,this.debug=window.__karte_live&&window.__karte_live.debug||!1,this.nextId=1,this.knownNodes=new g.NodeMap,this.mutationSummaries4ShadowDOM={},this.knownShadowRoots={},this.debug&&console.log("TreeMirrorClient","rootNode",t);var s=this.serializeNode(t).id;this.debug&&console.log("TreeMirrorClient","rootId",s);for(var a=[],c=t.firstChild;c;c=c.nextSibling)this.debug&&console.log("TreeMirrorClient","root child",c),a.push(this.serializeNode(c,!0)),this.debug&&console.log("TreeMirrorClient","children",a);this.debug&&console.log("TreeMirrorClient","clientReceiver.initialize",s,a),this.clientReceiver.initialize(s,a);var u=[{all:!0}];r&&(u=u.concat(r)),this.mutationSummary=new g({rootNode:t,callback:function(t){o.applyChanged(t)},queries:u})}return t.prototype.takeSnapshot=function(t,e){for(var r=this.serializeNode(t,!1,!0).id,n=[],i=t.firstChild;i;i=i.nextSibling)n.push(this.serializeNode(i,!0,!0));e(r,n)},t.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},t.prototype.rememberNode=function(t){var e=this.nextId++;return this.knownNodes.set(t,e),e},t.prototype.forgetNode=function(t){this.knownNodes.delete(t)},t.prototype.serializeNode=function(t,e,r,n){var i,o,s=this;if(void 0===r&&(r=!1),void 0===n&&(n=null),null===t)return null;var a=this.knownNodes.get(t);if(!r&&void 0!==a)return{id:a};var c={nodeType:t.nodeType,id:void 0!==a?a:this.rememberNode(t)};switch(n&&(c.shadowRootId=n),c.nodeType){case Node.DOCUMENT_TYPE_NODE:var u=t;c.name=u.name,c.publicId=u.publicId,c.systemId=u.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:if("SCRIPT"===(t.parentElement&&t.parentElement.tagName||t.parentNode&&t.parentNode.nodeName)||this.isExcludedNode(t)){c.textContent="";break}c.textContent=t.textContent;break;case Node.ELEMENT_NODE:var h=t;c.tagName=h.tagName,c.attributes={};for(var l=0;l<h.attributes.length;l++){var f=h.attributes[l];c.attributes[f.name]=f.value,0===f.name.indexOf("on")?delete c.attributes[f.name]:"LINK"===h.tagName&&"href"===f.name?c.attributes[f.name]=h.href:"IMG"===h.tagName&&"src"===f.name?c.attributes[f.name]=h.src:"IFRAME"===h.tagName&&"src"===f.name&&(delete c.attributes.src,this.options.enableRecordIframeHtml&&((null===(o=null===(i=h.contentDocument)||void 0===i?void 0:i.body)||void 0===o?void 0:o.innerHTML)?c.attributes.srcdoc=h.contentDocument.documentElement.innerHTML:setTimeout(function(){return s.iframeLoadedDetector(t)},1e3)))}if(this.isExcludedNode(t)){if(function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}(["checked","src","data","alt"],["value","placeholder"]).forEach(function(t){c.attributes[t]=void 0}),t instanceof Element){var d=t.clientHeight,p=t.clientWidth;c.attributes.style="height:"+d+"px; width:"+p+"px;background-color:#ccc;background-image:none"}break}if("INPUT"===h.tagName)c.attributes.value=h.value,!0===h.checked&&(c.attributes.checked=null);else if("TEXTAREA"===h.tagName){e=!1;var v=document.createTextNode(h.value),y={nodeType:Node.TEXT_NODE,id:this.rememberNode(v),textContent:h.value};c.childNodes=[y]}else"OPTION"===h.tagName&&(h.selected?c.attributes.selected=null:"selected"in c.attributes&&delete c.attributes.selected);if(e&&h.childNodes.length){c.childNodes=[];for(var _=h.firstChild;_;_=_.nextSibling)c.childNodes.push(this.serializeNode(_,!0,r,n))}if(null!=h.shadowRoot)for(Array.isArray(c.childNodes)||(c.childNodes=[]),this.debug&&console.log("shadowRoot",h.children,h.shadowRoot),c.isShadowRoot=!0,void 0===this.mutationSummaries4ShadowDOM[c.id]&&(this.mutationSummaries4ShadowDOM[c.id]=new g({rootNode:t.shadowRoot,callback:function(t){s.applyChanged(t,c.id)},queries:[{all:!0}]}),this.knownShadowRoots[c.id]=t.shadowRoot),this.emitter.emit(k.d.DETECT_SHADOWDOM,c.id,t.shadowRoot),_=t.shadowRoot.firstChild;_;_=_.nextSibling)c.childNodes.push(this.serializeNode(_,!0,r,c.id))}return c},t.prototype.iframeLoadedDetector=function(t){var e,r=this.serializeNode(t,!1,!0);(null===(e=r.attributes)||void 0===e?void 0:e.srcdoc)&&this.clientReceiver.applyChanged([],[],[r],[])},t.prototype.serializeAddedAndMoved=function(t,e,r,n){var i=this;void 0===n&&(n=null);var o=new g.NodeMap;t.concat(e).concat(r).forEach(function(t){var e=t.parentNode,r=o.get(e);r||(r=new g.NodeMap,o.set(e,r)),r.set(t,!0)});var s=[];return o.keys().forEach(function(t){for(var e=o.get(t),r=e.keys();r.length;){for(var a=r[0];a.previousSibling&&e.has(a.previousSibling);)a=a.previousSibling;for(;a&&e.has(a);){var c=i.serializeNode(a);c.previousSibling=i.serializeNode(a.previousSibling),n&&a.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.parentNode.host?c.parentNode=i.serializeNode(a.parentNode.host):c.parentNode=i.serializeNode(a.parentNode),s.push(c),e.delete(a),a=a.nextSibling}r=e.keys()}}),s},t.prototype.serializeAttributeChanges=function(t){var e=this,r=new g.NodeMap;return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var i=r.get(t);i||((i=e.serializeNode(t)).attributes={},r.set(t,i)),i.attributes[n]=t.getAttribute(n)})}),r.keys().map(function(t){return r.get(t)})},t.prototype.applyChanged=function(t,e){var r=this;void 0===e&&(e=null);var n=t[0],i=n.removed.map(function(t){return r.serializeNode(t)}),o=this.serializeAddedAndMoved(n.added,n.reparented,n.reordered,e),s=this.serializeAttributeChanges(n.attributeChanged),a=n.characterDataChanged.map(function(t){return r.serializeNode(t,!1,!0)});e&&(i=i.map(function(t){return E(E({},t),{shadowRootId:e})}),o=o.map(function(t){return E(E({},t),{shadowRootId:e})}),s=s.map(function(t){return E(E({},t),{shadowRootId:e})}),a=a.map(function(t){return E(E({},t),{shadowRootId:e})})),this.clientReceiver.applyChanged(i,o,s,a),n.removed.forEach(function(t){r.forgetNode(t)})},t.prototype.isExcludedNode=function(t){if(!this.options.hiddenSelector)return!1;var e;switch(t&&t.nodeType){case Node.TEXT_NODE:e=t.parentNode;break;case Node.ELEMENT_NODE:e=t}if(!e)return!1;var r=Object(w.a)(this.options.hiddenSelector);if(this.options.unhiddenSelector){var n=Object(w.a)(this.options.unhiddenSelector);return Object(w.b)(e,r)&&!Object(w.b)(e,n)}return Object(w.b)(e,r)},t}()},function(t,e,r){"use strict";var n=r(25),i=r(1),o=r(26),s=r(20),a=r(31),c=Object.prototype.hasOwnProperty;e.a=function(t,e){var r=Object(i.a)(t),u=!r&&Object(n.a)(t),h=!r&&!u&&Object(o.a)(t),l=!r&&!u&&!h&&Object(a.a)(t),f=r||u||h||l,d=f?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],p=d.length;for(var v in t)!e&&!c.call(t,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Object(s.a)(v,p))||d.push(v);return d}},function(t,r,n){"use strict";(function(t){var i=n(32),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o&&i.a.process,c=function(){try{return s&&s.require&&s.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();r.a=c}).call(this,n(48)(t))},function(t,e,r){"use strict";var n=r(28),i=r(30),o=r(24),s=r(10),a=r(1);e.a=function(t,e){return(Object(a.a)(t)?n.a:function(t,e){var r=-1,n=Object(s.a)(t)?Array(t.length):[];return Object(o.a)(t,function(t,i,o){n[++r]=e(t,i,o)}),n})(t,Object(i.a)(e,3))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";e.a=function(){return!1}},function(t,e,r){"use strict";var n=r(29);e.a=function(t,e,r){var i=null==t?void 0:Object(n.a)(t,e);return void 0===i?r:i}},function(t,e,r){"use strict";var n=r(3),i=r(2),o=function(){return i.a.Date.now()},s=r(11),a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,l=parseInt,f=function(t){if("number"==typeof t)return t;if(Object(s.a)(t))return NaN;if(Object(n.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(n.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=u.test(t);return r||h.test(t)?l(t.slice(2),r?2:8):c.test(t)?NaN:+t},d=Math.max,p=Math.min;e.a=function(t,e,r){var i,s,a,c,u,h,l=0,v=!1,y=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=i,n=s;return i=s=void 0,l=e,c=t.apply(n,r)}function m(t){var r=t-h;return void 0===h||r>=e||r<0||y&&t-l>=a}function g(){var t=o();if(m(t))return w(t);u=setTimeout(g,function(t){var r=e-(t-h);return y?p(r,a-(t-l)):r}(t))}function w(t){return u=void 0,_&&i?b(t):(i=s=void 0,c)}function k(){var t=o(),r=m(t);if(i=arguments,s=this,h=t,r){if(void 0===u)return function(t){return l=t,u=setTimeout(g,e),v?b(t):c}(h);if(y)return clearTimeout(u),u=setTimeout(g,e),b(h)}return void 0===u&&(u=setTimeout(g,e)),c}return e=f(e)||0,Object(n.a)(r)&&(v=!!r.leading,a=(y="maxWait"in r)?d(f(r.maxWait)||0,e):a,_="trailing"in r?!!r.trailing:_),k.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=h=s=u=void 0},k.flush=function(){return void 0===u?c:w(o())},k}},,function(t,e,r){"use strict";r.r(e);var n=r(0),i=r(44),o=r(51),s=r(3),a=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(s.a)(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Object(o.a)(t,e,{leading:n,maxWait:e,trailing:i})},c=r(47),u=r(27),h=r(4),l=r(9),f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function d(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);return!!(n&&n.configurable&&n.set)&&(Object.defineProperty(t,e,{configurable:!0,enumerable:n.enumerable,get:n.get,set:function(t){var e=this;return window.setTimeout(function(){r(e,t)},0),n.set.call(this,t)}}),!0)}function p(t,e,r){var n=t[e];t[e]=n?function(){var e=[].slice.call(arguments);n.apply(t,e),r.apply(t,e)}:r}var v=[n.b.MOUSEMOVE,n.b.MOUSELEAVE,n.b.SCROLL,n.b.RESIZE,n.b.FOCUS,n.b.BLUR,n.b.TOUCHSTART,n.b.TOUCHMOVE,n.b.TOUCHEND,n.b.TOUCHCANCEL,n.b.VISIBILITYCHANGE],y=function(){function t(t,e,r,n){this.treeMirrorClient=r,this.emitter=n,this.handler=t||function(){},this.options=f({throttleWait:50,hiddenSelector:"",unhiddenSelector:""},e),this.options.hiddenSelector=Object(l.a)(this.options.hiddenSelector),this.options.unhiddenSelector=Object(l.a)(this.options.unhiddenSelector),this.eventListeners={},this.eventListeners4ShadowDOM=[],this.recordedShadowRootIds=[],this.propChangeHookEnabled=!1,this.setupPropChangeHook(),this.throttleRecordEvent=a(this.recordEvent.bind(this),1e3),this.setShadowDOMEventListeners=this.setShadowDOMEventListeners.bind(this)}return t.prototype.listenConsoleEvent=function(){var t=this;p(window,"onerror",function(e,r,i,o,s){var a=s?s.stack+"":e;t.recordEvent(n.b.ERROR,{type:"error",message:a})}),[n.b.CONSOLE_LOG,n.b.CONSOLE_WARN,n.b.CONSOLE_ERROR].map(function(e){var r=e.replace("console.","");p(console,r,function(){var n=[].slice.call(arguments).join(" ");t.recordEvent(e,{type:r,message:n})})})},t.prototype.setEventListeners=function(){var t=this;if(!(Object.keys(this.eventListeners).length>0)){var e=this.options.throttleWait,r=[n.b.INIT,n.b.ERROR,n.b.CONSOLE_LOG,n.b.CONSOLE_WARN,n.b.CONSOLE_ERROR,n.b.CODE];Object(u.a)(Object.values(n.b),function(i){if(!r.includes(i)){var o=a(function(e){window.setTimeout(function(){t.handleEvent(e)},0)},e);t.eventListeners[i]=o,i===n.b.RESIZE?window.addEventListener(i,o,{passive:!0,capture:!1}):i===n.b.VISIBILITYCHANGE?window.document.addEventListener(i,o,{passive:!0,capture:!1}):window.document.addEventListener(i,o,{passive:!0,capture:!0})}})}},t.prototype.restoreShadowDOMEventListeners=function(){var t=this;Object.keys(this.treeMirrorClient.knownShadowRoots).forEach(function(e){t.setShadowDOMEventListeners(e,t.treeMirrorClient.knownShadowRoots[e])})},t.prototype.setShadowDOMEventListeners=function(t,e){var r=this;if(!this.recordedShadowRootIds.includes(t)){this.recordedShadowRootIds.push(t);var i=this.options.throttleWait,o=[n.b.INIT,n.b.ERROR,n.b.CONSOLE_LOG,n.b.CONSOLE_WARN,n.b.CONSOLE_ERROR,n.b.CODE,n.b.MOUSEMOVE,n.b.MOUSELEAVE,n.b.RESIZE,n.b.SELECTIONCHANGE,n.b.VISIBILITYCHANGE,n.b.BLUR,n.b.CLICK,n.b.FOCUS,n.b.INPUT];Object(u.a)(Object.values(n.b),function(e){if(!o.includes(e)){var n=a(function(t){window.setTimeout(function(){r.handleEvent(t)},0)},i);r.eventListeners4ShadowDOM.push({id:t,eventName:e,listener:n}),r.treeMirrorClient.knownShadowRoots[t].addEventListener(e,n,{passive:!0,capture:!0})}})}},t.prototype.unsetEventListeners=function(){var t=this;Object(u.a)(this.eventListeners,function(t,e){e===n.b.RESIZE?window.removeEventListener(e,t):e===n.b.VISIBILITYCHANGE?window.document.removeEventListener(e,t,{capture:!1}):window.document.removeEventListener(e,t,{capture:!0})}),this.eventListeners={},Object(u.a)(this.eventListeners4ShadowDOM,function(e){t.treeMirrorClient.knownShadowRoots[e.id].removeEventListener(e.eventName,e.listener,{capture:!0})}),this.eventListeners4ShadowDOM=[]},t.prototype.setupPropChangeHook=function(){var t=this;if(HTMLInputElement&&HTMLTextAreaElement){d(HTMLInputElement.prototype,"checked",function(e,r){t.propChangeHookEnabled&&t.checkDisplayElement(e)&&t.recordEvent(n.b.CHANGE,{target:Object(h.b)(window.document,e),checked:r})});var e=function(e,r){if(t.propChangeHookEnabled){var i=t.checkDisplayElement(e);i&&t.recordEvent(n.b.INPUT,{target:Object(h.b)(window.document,e),value:r,displayElementFlg:i})}};d(HTMLInputElement.prototype,"value",e),d(HTMLTextAreaElement.prototype,"value",e)}},t.prototype.start=function(){this.setEventListeners(),this.propChangeHookEnabled=!0;var t=window.document.querySelectorAll('input[type="checkbox"],input[type="radio"]'),e=[];Object(u.a)(t,function(t){t.checked!==Boolean(t.getAttribute("checked"))&&e.push({target:Object(h.b)(window.document,t),checked:t.checked})});var r=window.document.scrollingElement||window.document.documentElement;if(0===r.scrollTop){var i=this.detectIonicTopScrollTarget();i&&(r=i)}this.recordEvent(n.b.INIT,{resize:{width:window.innerWidth,height:window.innerHeight},scroll:{target:Object(h.b)(window.document,r),top:r.scrollTop,left:r.scrollLeft},changes:e,visibilityState:document.visibilityState}),Object.keys(this.treeMirrorClient.knownShadowRoots).length>0&&this.restoreShadowDOMEventListeners(),this.emitter.on(n.d.DETECT_SHADOWDOM,this.setShadowDOMEventListeners)},t.prototype.stop=function(){this.unsetEventListeners(),this.propChangeHookEnabled=!1,this.recordedShadowRootIds=[],this.emitter.removeListener(n.d.DETECT_SHADOWDOM,this.setShadowDOMEventListeners)},t.prototype.checkDisplayElement=function(t){return!!Object(l.b)(t,this.options.unhiddenSelector)||!Object(l.b)(t,this.options.hiddenSelector)},t.prototype.handleEvent=function(t){var e=this.replaceEventTarget(t),r=v.indexOf(t.type)>=0,i=this.checkDisplayElement(e);if(!(e instanceof HTMLElement)||r||i||t.type===n.b.INPUT){var o=null;if(t.type===n.b.MOUSEMOVE)o={x:t.clientX,y:t.clientY};else if(t.type===n.b.MOUSELEAVE)o={};else if(t.type===n.b.SCROLL){var s=window.document.scrollingElement||window.document.documentElement,a=e===window.document?s:e;o={target:Object(h.b)(window.document,a),top:a.scrollTop,left:a.scrollLeft}}else if(t.type===n.b.RESIZE)o={width:window.innerWidth,height:window.innerHeight};else if(t.type===n.b.CLICK)o={x:t.clientX,y:t.clientY};else if(t.type===n.b.CHANGE)if("INPUT"!==e.tagName||"radio"!==e.type&&"checkbox"!==e.type){if("SELECT"===e.tagName){var u=e;o={target:Object(h.b)(window.document,e),selected:Object(c.a)(u.options,function(t){return t.selected})}}}else o={target:Object(h.b)(window.document,e),checked:e.checked};else if(t.type===n.b.INPUT)o={target:Object(h.b)(window.document,e),value:i?e.value:"",displayElementFlg:i};else if(t.type===n.b.FOCUS||t.type===n.b.BLUR)o={target:Object(h.b)(window.document,e)};else if(t.type===n.b.SELECTIONCHANGE){var l=window.getSelection();if(l&&l.isCollapsed)return;var f=null;if(l.rangeCount>0)try{f=l.getRangeAt(0)}catch(t){}o={startContainer:f&&f.startContainer?Object(h.b)(window.document,f.startContainer):null,startOffset:f?f.startOffset:null,endContainer:f&&f.endContainer?Object(h.b)(window.document,f.endContainer):null,endOffset:f?f.endOffset:null,collapsed:!f||f.collapsed}}else[n.b.TOUCHSTART,n.b.TOUCHMOVE,n.b.TOUCHEND,n.b.TOUCHCANCEL].indexOf(t.type)>=0?o={touches:Object(c.a)(t.touches,function(t){return{id:t.identifier,x:t.clientX,y:t.clientY}})}:t.type===n.b.VISIBILITYCHANGE&&(o={visibilityState:window.document.visibilityState});o&&(i||t.type!==n.b.INPUT?this.recordEvent(t.type,o):this.throttleRecordEvent(t.type,o))}},t.prototype.replaceEventTarget=function(t){var e=null,r=t.path||"function"==typeof t.composedPath&&t.composedPath()||[];return(e=r.length>0&&null===t.target&&(t.type===n.b.SCROLL||t.type===n.b.CHANGE)||r.length>0&&t.target!==r[0]&&(t.type===n.b.INPUT||t.type===n.b.FOCUS||t.type===n.b.BLUR)?r[0]:t.target)||(e=this.detectIonicTopScrollTarget()),e},t.prototype.detectIonicTopScrollTarget=function(){for(var t,e,r=document.querySelectorAll("ion-content"),n=0;n<r.length;n++){var i=null===(e=null===(t=r[n])||void 0===t?void 0:t.shadowRoot)||void 0===e?void 0:e.querySelector(".inner-scroll");if(i&&i.offsetParent)return i}},t.prototype.recordEvent=function(t,e){"target"in e&&!e.target||this.handler({id:t,eventData:e})},t}(),_=/^\s*at .*(\S+:\d+|\(native\))/m,b=/^(eval@)?(\[native code])?$/,m=function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]};var g=function(){function t(t){this.handler=t||function(){},this.sendCountMap={}}return t.prototype.start=function(){this.setConsoleListener(),this.setErrorListener(),this.setUnhandledRejectionListener()},t.prototype.stop=function(){this.removeConsoleListener(),this.removeErrorListener(),this.removeUnhandledRejectionListener()},t.prototype._checkSendCount=function(t){return this.sendCountMap[t]||(this.sendCountMap[t]=0),this.sendCountMap[t]++,this.sendCountMap[t]>10},t.prototype._consoleWarnHandler=function(){try{if(!this._checkSendCount(JSON.stringify(arguments))){var t={level:"warning",type:"CONSOLE(WARN)",arguments:arguments};this.handler(t)}}catch(t){console.warn(t)}finally{this.prevWarn.apply(console,arguments)}},t.prototype._consoleErrorHandler=function(){try{if(!this._checkSendCount(JSON.stringify(arguments))){var t={level:"error",type:"CONSOLE(ERROR)",arguments:arguments};this.handler(t)}}catch(t){console.warn(t)}finally{this.prevError.apply(console,arguments)}},t.prototype.setConsoleListener=function(){this.prevWarn=console.warn,this.prevError=console.error,"function"==typeof this.prevWarn&&(console.warn=this._consoleWarnHandler.bind(this)),"function"==typeof this.prevError&&(console.error=this._consoleErrorHandler.bind(this))},t.prototype.removeConsoleListener=function(){this.prevWarn&&(console.warn=this.prevWarn),this.prevError&&(console.error=this.prevError)},t.prototype._onErrorHandler=function(t,e,r,n,i){try{if(!this._checkSendCount(JSON.stringify({message:t,file:e,lineNo:r,colNo:n}))){var o=function(t){if(t.stack&&t.stack.match(_))return function(t){return t.stack.split("\n").filter(function(t){return!!t.match(_)}).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var e=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=e.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(e=r?e.replace(r[0],""):e).split(/\s+/).slice(1),i=m(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:t}})}(t);if(t.stack)return function(t){return t.stack.split("\n").filter(function(t){return!t.match(b)}).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return{functionName:t};var e=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(e),n=r&&r[1]?r[1]:void 0,i=m(t.replace(e,""));return{functionName:n,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t}})}(t);throw new Error("Cannot parse given Error object")}(i),s={level:"error",type:"ERROR",message:t,file:e,lineNo:r,colNo:n,error:i,stacktrace:o};this.handler(s)}}catch(i){console.warn(i)}finally{"function"==typeof this.prevOnerror&&this.prevOnerror.apply(this,arguments)}},t.prototype.setErrorListener=function(){this.prevOnerror=window.onerror,window.onerror=this._onErrorHandler.bind(this)},t.prototype.removeErrorListener=function(){this.prevOnerror&&(window.onerror=this.prevOnerror)},t.prototype.setUnhandledRejectionListener=function(){window.addEventListener("unhandledrejection",this._unhandledRejectionHandler.bind(this),{passive:!0,capture:!1})},t.prototype._unhandledRejectionHandler=function(t){try{if(!this._checkSendCount(JSON.stringify(t.reason))){var e={level:"error",type:"UNHANDLEDREJECTION",message:t.reason};this.handler(e)}}catch(t){console.warn(t)}},t.prototype.removeUnhandledRejectionListener=function(){window.removeEventListener("unhandledrejection",this._unhandledRejectionHandler,{capture:!1})},t.started=!1,t}(),w=function(){function t(t,e,r){this.treeMirrorClient=e,this.emitter=r,this.handler=t||function(){},this.watchTimer1=null,this.watchTimer2=null,this.watchTimer3=null,this.watchTimers4=[],this.knownCssFiles=[],this.knownCssRules=[],this.knownAdoptedStyleSheetsCssRules={},this.recordedShadowRootIds=[],this.setShadowDOMWatcher=this.setShadowDOMWatcher.bind(this)}return t.prototype.start=function(){this.setStyleSheetWatcher(),this.setDataStyledWatcher(),this.setIdStylesheetWatcher(),Object.keys(this.treeMirrorClient.knownShadowRoots).length>0&&this.restoreShadowDOMWatcher(),this.emitter.on(n.d.DETECT_SHADOWDOM,this.setShadowDOMWatcher)},t.prototype.stop=function(){this.removeStyleSheetWatcher(),this.removeDataStyledWatcher(),this.removeIdStylesheetWatcher(),this.removeShadowDOMWatcher(),this.knownCssRules=[],this.knownAdoptedStyleSheetsCssRules={},this.recordedShadowRootIds=[],this.emitter.removeListener(n.d.DETECT_SHADOWDOM,this.setShadowDOMWatcher)},t.prototype.setStyleSheetWatcher=function(){var t=this;"requestIdleCallback"in window?window.requestIdleCallback(function(){t._recordStyleSheets()},{timeout:500}):setTimeout(function(){t._recordStyleSheets()},500),this.watchTimer1=setInterval(function(){t._recordStyleSheets()},3e3)},t.prototype.setDataStyledWatcher=function(){var e=this;t.WATCH_TARGET_STYLE_NODE_SELECTORS.map(function(t){return document.querySelectorAll(t)}).some(function(t){return t.length>0})&&("requestIdleCallback"in window?window.requestIdleCallback(function(){e._recordDataStyledNode()},{timeout:300}):setTimeout(function(){e._recordDataStyledNode()},300),this.watchTimer2=setInterval(function(){e._recordDataStyledNode()},1e3))},t.prototype.setIdStylesheetWatcher=function(){var e=this;t.WATCH_TARGET_STYLE_NODE_IDS.forEach(function(t){document.querySelector(t)&&("requestIdleCallback"in window?window.requestIdleCallback(function(){e._recordIdStylesheetNode()},{timeout:300}):setTimeout(function(){e._recordIdStylesheetNode()},300),e.watchTimer3=setInterval(function(){e._recordIdStylesheetNode()},1e3))})},t.prototype.restoreShadowDOMWatcher=function(){var t=this;Object.keys(this.treeMirrorClient.knownShadowRoots).forEach(function(e){t.setShadowDOMWatcher(e,t.treeMirrorClient.knownShadowRoots[e])})},t.prototype.setShadowDOMWatcher=function(t,e){var r=this;if(!this.recordedShadowRootIds.includes(t)){this.recordedShadowRootIds.push(t),"requestIdleCallback"in window?window.requestIdleCallback(function(){r._recordAdoptedStyleSheets(t,e)},{timeout:300}):setTimeout(function(){r._recordAdoptedStyleSheets(t,e)},300);var n=setInterval(function(){r._recordAdoptedStyleSheets(t,e)},1e3);this.watchTimers4.push(n)}},t.prototype._recordStyleSheets=function(){var e;if(document.styleSheets&&document.styleSheets.length>0)for(var r=0;r<document.styleSheets.length;r++)if("LINK"===document.styleSheets.item(r).ownerNode.nodeName)try{var n=document.styleSheets.item(r).href;if(!this.knownCssFiles.includes(n)){if(this.knownCssFiles.push(n),document.styleSheets.item(r).cssRules.length>t.MAX_CSS_RULES_LENGTH)continue;for(var i=document.styleSheets.item(r).cssRules,o=null===(e=document.styleSheets.item(r).media)||void 0===e?void 0:e.mediaText,s=[],a=0;a<i.length;a++)s.push(i.item(a).cssText);if(s.length>0){var c={cssText:s.join(""),context:"link",href:n,media:o};this.handler(c)}}}catch(t){}},t.prototype._recordDataStyledNode=function(){var e=this;t.WATCH_TARGET_STYLE_NODE_SELECTORS.forEach(function(t){document.querySelectorAll(t).forEach(function(r){if(r.sheet&&r.sheet.cssRules.length>0){for(var n=r.sheet.cssRules.length,i=[],o=0;o<n;o++){var s=r.sheet.cssRules.item(o).cssText;e.knownCssRules.includes(s)||(e.knownCssRules.push(s),i.push(s))}if(i.length>0){var a={cssTexts:i,context:"css-in-js",selector:t};e.handler(a)}}})})},t.prototype._recordIdStylesheetNode=function(){var e=this;t.WATCH_TARGET_STYLE_NODE_IDS.forEach(function(t){var r=document.querySelector(t);if(r.sheet&&r.sheet.cssRules.length>0){for(var n=r.sheet.cssRules.length,i=[],o=0;o<n;o++){var s=r.sheet.cssRules.item(o).cssText;e.knownCssRules.includes(s)||(e.knownCssRules.push(s),i.push(s))}if(i.length>0){var a={cssTexts:i,context:"id",id:t};e.handler(a)}}})},t.prototype._recordAdoptedStyleSheets=function(t,e){var r=this;this.knownAdoptedStyleSheetsCssRules[t]||(this.knownAdoptedStyleSheetsCssRules[t]=[]),e.adoptedStyleSheets&&e.adoptedStyleSheets.forEach(function(n){if(n.cssRules&&n.cssRules.length>0){for(var i=n.cssRules.length,o=[],s=0;s<i;s++){var a=n.cssRules.item(s).cssText;r.knownAdoptedStyleSheetsCssRules[t].includes(a)||(r.knownAdoptedStyleSheetsCssRules[t].push(a),o.push(a))}if(o.length>0){var c={cssTexts:o,context:"adoptedStyleSheets",id:t,target:Object(h.b)(window.document,e.host)};r.handler(c)}}})},t.prototype.removeStyleSheetWatcher=function(){this.watchTimer1&&clearInterval(this.watchTimer1),this.watchTimer1=null},t.prototype.removeDataStyledWatcher=function(){this.watchTimer2&&clearInterval(this.watchTimer2),this.watchTimer2=null},t.prototype.removeIdStylesheetWatcher=function(){this.watchTimer3&&clearInterval(this.watchTimer3),this.watchTimer3=null},t.prototype.removeShadowDOMWatcher=function(){this.watchTimers4.length>0&&this.watchTimers4.forEach(function(t){clearInterval(t)}),this.watchTimers4=[]},t.started=!1,t.WATCH_TARGET_STYLE_NODE_SELECTORS=["style[data-styled]","style[data-emotion]","style[data-jss]"],t.WATCH_TARGET_STYLE_NODE_IDS=["#react-native-stylesheet"],t.MAX_CSS_RULES_LENGTH=4e3,t}(),k=function(){function t(){this.script=null}return t.prototype.createCodeTag=function(){this.script&&(document.body.removeChild(this.script),this.script=null);var t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.async=!0,t.setAttribute("crossorigin","anonymous"),document.body.appendChild(t),this.script=t},t.prototype.evalCode=function(t){this.createCodeTag(),this.script.text=t},t}(),E="\n  #krtAdminUserMouse {\n    display: none;\n    position: fixed;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    background-color: #66FFCC;\n    background-repeat: no-repeat;\n    z-index: 2147483647;\n  }\n",S=null,O=new(function(){function t(){this.cursor=null}return t.prototype.createMouseCursor=function(){this.cursor&&(document.body.removeChild(this.cursor),this.cursor=null);var t=document.createElement("div");t.setAttribute("id","krtAdminUserMouse"),t.style.top="0px",t.style.left="0px",document.body.appendChild(t),this.cursor=t},t.prototype.hookEvent=function(t,e){"mouseMove"==t?(this.showMouseCursor(),this.moveMouseCursor(e.x,e.y)):"mouseShow"==t?this.showMouseCursor():("mouseHide"==t||"disconnected"==t)&&this.hideMouseCursor()},t.prototype.moveMouseCursor=function(t,e){var r="translate("+t+"px,"+e+"px)";this.cursor.style.transform=r},t.prototype.showMouseCursor=function(){this.cursor.style.display="block"},t.prototype.hideMouseCursor=function(){this.cursor.style.display="none"},t.prototype.evalEvent=function(t){var e=t.name,r=t.data;-1!=["click","mouseMove","mouseShow","mouseHide","disconnected"].indexOf(e)&&(this.createMouseCursor(),S||((S=document.createElement("style")).type="text/css",S.styleSheet?S.styleSheet.cssText=E:S.appendChild(document.createTextNode(E)),document.body.appendChild(S)),this.hookEvent(e,r))},t}()),T={code:function(t){(new k).evalCode(t.code)},mouse:function(t){O.evalEvent(t)}},A=r(35);r.d(e,"ScreenRecorder",function(){return R});var C=[".krt-hidden","input:not([type='submit']):not([type='button'])","textarea","select"].join(", "),R=function(){function t(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1),this.handler=t,this.options=e,this.doNotUseUnhiddenSelector=r,this.emitter=new A.EventEmitter2,this._checkValidSelector(),this._updateHiddenSelector(),this._updateUnhiddenSelector()}return t.prototype.start=function(t){var e;this.tabId=null===(e=t)||void 0===e?void 0:e.tabId,this._startTreeMirrorClient(),this._startEventRecorder(),this._startErrorRecorder(),this._startStyleRecorder()},t.prototype._startTreeMirrorClient=function(){var t=this,e={initialize:function(e,r){var i=window.location.href,o=window.navigator.userAgent,s=t._getMetadata();t.record(n.c.DOM,{id:n.a.SNAPSHOT,treeData:{rootId:e,children:r,href:i,userAgent:o,meta:s}})},applyChanged:function(e,r,i,o){t.record(n.c.DOM,{id:n.a.MUTATION,treeData:{removed:e,addedOrMoved:r,attributes:i,text:o}})}};this.treeMirrorClient=new i.b(window.document,e,null,this.options,this.emitter)},t.prototype._startEventRecorder=function(){var t=this;this.eventRecorder||(this.eventRecorder=new y(function(e){t.record(n.c.EVENT,e)},this.options,this.treeMirrorClient,this.emitter)),this.eventRecorder.start()},t.prototype._startErrorRecorder=function(){var t=this;this.errorRecorder||(this.errorRecorder=new g(function(e){t.record(n.c.ERROR,e)})),g.started||(this.errorRecorder.start(),g.started=!0)},t.prototype._startStyleRecorder=function(){var t=this;this.styleRecorder||(this.styleRecorder=new w(function(e){t.record(n.c.STYLE,e)},this.treeMirrorClient,this.emitter)),w.started||(this.styleRecorder.start(),w.started=!0)},t.prototype.stop=function(){this._stopTreeMirrorClient(),this._stopEventRecorder()},t.prototype._stopTreeMirrorClient=function(){this.treeMirrorClient&&(this.treeMirrorClient.disconnect(),this.treeMirrorClient=null)},t.prototype._stopEventRecorder=function(){this.eventRecorder&&this.eventRecorder.stop(),this.errorRecorder&&(this.errorRecorder.stop(),g.started=!1)},t.prototype._stopStyleRecorder=function(){this.styleRecorder&&(this.styleRecorder.stop(),w.started=!1)},t.prototype.takeSnapshot=function(t){var e=this;this._stopEventRecorder(),this._stopStyleRecorder(),this.treeMirrorClient.takeSnapshot(window.document,function(r,i){var o=window.location.href,s=window.navigator.userAgent,a=e._getMetadata(),c={tabId:e.tabId,type:n.c.DOM,data:{id:n.a.SNAPSHOT,treeData:{rootId:r,children:i,href:o,userAgent:s,meta:a}},timestamp:Date.now()};t(c),e._startEventRecorder(),e._startStyleRecorder()})},t.prototype.record=function(t,e){var r={tabId:this.tabId,type:t,data:e,timestamp:Date.now()};this.handler(r)},t.prototype.execPlugin=function(t){var e=t.name,r=t.tabId,n=t.data;if(!r||r===this.tabId){var i=T[e];i&&i(n)}},t.prototype._getMetadata=function(){for(var t={title:document.title},e=document.querySelectorAll("meta"),r=0;r<e.length;r++){var n=e[r].getAttribute("property");n&&0===n.indexOf("og:")&&(t[n]=e[r].content)}return t},t.prototype._isRemoveEmptyElm=function(t){return t.filter(function(t){return void 0!==t&&""!==t&&null!==t&&!1!==t})},t.prototype._updateHiddenSelector=function(){var t=[this.options.hiddenSelector,C];this.options.hiddenSelector=this._isRemoveEmptyElm(t).join(",")},t.prototype._updateUnhiddenSelector=function(){if(this.doNotUseUnhiddenSelector)this.options.unhiddenSelector="";else{var t=[this.options.unhiddenSelector];this.options.unhiddenSelector=this._isRemoveEmptyElm(t).join(",")}},t.prototype._checkValidSelector=function(){var t=this.options.hiddenSelector;if(!(null==t||"string"==typeof t||t instanceof String))throw new Error("invalid hiddenSelector");var e=this.options.unhiddenSelector;if(!(null==e||"string"==typeof e||e instanceof String))throw new Error("invalid unhiddenSelector")},t}()},,function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!h){var t=a(f);h=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]))}).call(this,r(48).Promise)},function(t,e,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,r){"use strict";var n=r(3),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,c,u,h,l,f){var d,p,v,y,_,b,m,g,w,k=f.bits,E=0,S=0,O=0,T=0,A=0,C=0,R=0,x=0,N=0,j=0,I=null,D=0,L=new n.Buf16(16),M=new n.Buf16(16),P=null,B=0;for(E=0;E<=15;E++)L[E]=0;for(S=0;S<c;S++)L[e[r+S]]++;for(A=k,T=15;T>=1&&0===L[T];T--);if(A>T&&(A=T),0===T)return u[h++]=20971520,u[h++]=20971520,f.bits=1,0;for(O=1;O<T&&0===L[O];O++);for(A<O&&(A=O),x=1,E=1;E<=15;E++)if(x<<=1,(x-=L[E])<0)return-1;if(x>0&&(0===t||1!==T))return-1;for(M[1]=0,E=1;E<15;E++)M[E+1]=M[E]+L[E];for(S=0;S<c;S++)0!==e[r+S]&&(l[M[e[r+S]]++]=S);if(0===t?(I=P=l,b=19):1===t?(I=i,D-=257,P=o,B-=257,b=256):(I=s,P=a,b=-1),j=0,S=0,E=O,_=h,C=A,R=0,v=-1,y=(N=1<<A)-1,1===t&&N>852||2===t&&N>592)return 1;for(;;){m=E-R,l[S]<b?(g=0,w=l[S]):l[S]>b?(g=P[B+l[S]],w=I[D+l[S]]):(g=96,w=0),d=1<<E-R,O=p=1<<C;do{u[_+(j>>R)+(p-=d)]=m<<24|g<<16|w|0}while(0!==p);for(d=1<<E-1;j&d;)d>>=1;if(0!==d?(j&=d-1,j+=d):j=0,S++,0==--L[E]){if(E===T)break;E=e[r+l[S]]}if(E>A&&(j&y)!==v){for(0===R&&(R=A),_+=O,x=1<<(C=E-R);C+R<T&&!((x-=L[C+R])<=0);)C++,x<<=1;if(N+=1<<C,1===t&&N>852||2===t&&N>592)return 1;u[v=j&y]=A<<24|C<<16|_-h|0}}return 0!==j&&(u[_+j]=E-R<<24|64<<16|0),f.bits=A,0}},function(t,e,r){"use strict";t.exports=function(t,e){var r,n,i,o,s,a,c,u,h,l,f,d,p,v,y,_,b,m,g,w,k,E,S,O,T;r=t.state,n=t.next_in,O=t.input,i=n+(t.avail_in-5),o=t.next_out,T=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=r.dmax,u=r.wsize,h=r.whave,l=r.wnext,f=r.window,d=r.hold,p=r.bits,v=r.lencode,y=r.distcode,_=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),m=v[d&_];e:for(;;){if(d>>>=g=m>>>24,p-=g,0===(g=m>>>16&255))T[o++]=65535&m;else{if(!(16&g)){if(0==(64&g)){m=v[(65535&m)+(d&(1<<g)-1)];continue e}if(32&g){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&m,(g&=15)&&(p<g&&(d+=O[n++]<<p,p+=8),w+=d&(1<<g)-1,d>>>=g,p-=g),p<15&&(d+=O[n++]<<p,p+=8,d+=O[n++]<<p,p+=8),m=y[d&b];r:for(;;){if(d>>>=g=m>>>24,p-=g,!(16&(g=m>>>16&255))){if(0==(64&g)){m=y[(65535&m)+(d&(1<<g)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(k=65535&m,p<(g&=15)&&(d+=O[n++]<<p,(p+=8)<g&&(d+=O[n++]<<p,p+=8)),(k+=d&(1<<g)-1)>c){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=g,p-=g,k>(g=o-s)){if((g=k-g)>h&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=0,S=f,0===l){if(E+=u-g,g<w){w-=g;do{T[o++]=f[E++]}while(--g);E=o-k,S=T}}else if(l<g){if(E+=u+l-g,(g-=l)<w){w-=g;do{T[o++]=f[E++]}while(--g);if(E=0,l<w){w-=g=l;do{T[o++]=f[E++]}while(--g);E=o-k,S=T}}}else if(E+=l-g,g<w){w-=g;do{T[o++]=f[E++]}while(--g);E=o-k,S=T}for(;w>2;)T[o++]=S[E++],T[o++]=S[E++],T[o++]=S[E++],w-=3;w&&(T[o++]=S[E++],w>1&&(T[o++]=S[E++]))}else{E=o-k;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(n<i&&o<a);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}},function(t,e,r){"use strict";var n=r(3),i=r(21),o=r(20),s=r(52),a=r(51),c=0,u=1,h=2,l=4,f=5,d=6,p=0,v=1,y=2,_=-2,b=-3,m=-4,g=-5,w=8,k=1,E=2,S=3,O=4,T=5,A=6,C=7,R=8,x=9,N=10,j=11,I=12,D=13,L=14,M=15,P=16,B=17,U=18,z=19,H=20,q=21,F=22,Y=23,W=24,V=25,X=26,G=27,Z=28,$=29,K=30,J=31,Q=32,tt=852,et=592,rt=15;function nt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=k,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,p):_}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):_}function st(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ot(t))):_}function at(t,e){var r,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(r=st(t,e))!==p&&(t.state=null),r):_}var ct,ut,ht=!0;function lt(t){if(ht){var e;for(ct=new n.Buf32(512),ut=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(u,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(h,t.lens,0,32,ut,0,t.work,{bits:5}),ht=!1}t.lencode=ct,t.lenbits=9,t.distcode=ut,t.distbits=5}function ft(t,e,r,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),n.arraySet(s.window,e,r-i,o,s.wnext),(i-=o)?(n.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=st,e.inflateResetKeep=it,e.inflateInit=function(t){return at(t,rt)},e.inflateInit2=at,e.inflate=function(t,e){var r,tt,et,rt,it,ot,st,at,ct,ut,ht,dt,pt,vt,yt,_t,bt,mt,gt,wt,kt,Et,St,Ot,Tt=0,At=new n.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return _;(r=t.state).mode===I&&(r.mode=D),it=t.next_out,et=t.output,st=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,at=r.hold,ct=r.bits,ut=ot,ht=st,Et=p;t:for(;;)switch(r.mode){case k:if(0===r.wrap){r.mode=D;break}for(;ct<16;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(2&r.wrap&&35615===at){r.check=0,At[0]=255&at,At[1]=at>>>8&255,r.check=o(r.check,At,2,0),at=0,ct=0,r.mode=E;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&at)<<8)+(at>>8))%31){t.msg="incorrect header check",r.mode=K;break}if((15&at)!==w){t.msg="unknown compression method",r.mode=K;break}if(ct-=4,kt=8+(15&(at>>>=4)),0===r.wbits)r.wbits=kt;else if(kt>r.wbits){t.msg="invalid window size",r.mode=K;break}r.dmax=1<<kt,t.adler=r.check=1,r.mode=512&at?N:I,at=0,ct=0;break;case E:for(;ct<16;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(r.flags=at,(255&r.flags)!==w){t.msg="unknown compression method",r.mode=K;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=K;break}r.head&&(r.head.text=at>>8&1),512&r.flags&&(At[0]=255&at,At[1]=at>>>8&255,r.check=o(r.check,At,2,0)),at=0,ct=0,r.mode=S;case S:for(;ct<32;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.head&&(r.head.time=at),512&r.flags&&(At[0]=255&at,At[1]=at>>>8&255,At[2]=at>>>16&255,At[3]=at>>>24&255,r.check=o(r.check,At,4,0)),at=0,ct=0,r.mode=O;case O:for(;ct<16;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.head&&(r.head.xflags=255&at,r.head.os=at>>8),512&r.flags&&(At[0]=255&at,At[1]=at>>>8&255,r.check=o(r.check,At,2,0)),at=0,ct=0,r.mode=T;case T:if(1024&r.flags){for(;ct<16;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.length=at,r.head&&(r.head.extra_len=at),512&r.flags&&(At[0]=255&at,At[1]=at>>>8&255,r.check=o(r.check,At,2,0)),at=0,ct=0}else r.head&&(r.head.extra=null);r.mode=A;case A:if(1024&r.flags&&((dt=r.length)>ot&&(dt=ot),dt&&(r.head&&(kt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,tt,rt,dt,kt)),512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,r.length-=dt),r.length))break t;r.length=0,r.mode=C;case C:if(2048&r.flags){if(0===ot)break t;dt=0;do{kt=tt[rt+dt++],r.head&&kt&&r.length<65536&&(r.head.name+=String.fromCharCode(kt))}while(kt&&dt<ot);if(512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,kt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=R;case R:if(4096&r.flags){if(0===ot)break t;dt=0;do{kt=tt[rt+dt++],r.head&&kt&&r.length<65536&&(r.head.comment+=String.fromCharCode(kt))}while(kt&&dt<ot);if(512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,kt)break t}else r.head&&(r.head.comment=null);r.mode=x;case x:if(512&r.flags){for(;ct<16;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(at!==(65535&r.check)){t.msg="header crc mismatch",r.mode=K;break}at=0,ct=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=I;break;case N:for(;ct<32;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}t.adler=r.check=nt(at),at=0,ct=0,r.mode=j;case j:if(0===r.havedict)return t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=ot,r.hold=at,r.bits=ct,y;t.adler=r.check=1,r.mode=I;case I:if(e===f||e===d)break t;case D:if(r.last){at>>>=7&ct,ct-=7&ct,r.mode=G;break}for(;ct<3;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}switch(r.last=1&at,ct-=1,3&(at>>>=1)){case 0:r.mode=L;break;case 1:if(lt(r),r.mode=H,e===d){at>>>=2,ct-=2;break t}break;case 2:r.mode=B;break;case 3:t.msg="invalid block type",r.mode=K}at>>>=2,ct-=2;break;case L:for(at>>>=7&ct,ct-=7&ct;ct<32;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if((65535&at)!=(at>>>16^65535)){t.msg="invalid stored block lengths",r.mode=K;break}if(r.length=65535&at,at=0,ct=0,r.mode=M,e===d)break t;case M:r.mode=P;case P:if(dt=r.length){if(dt>ot&&(dt=ot),dt>st&&(dt=st),0===dt)break t;n.arraySet(et,tt,rt,dt,it),ot-=dt,rt+=dt,st-=dt,it+=dt,r.length-=dt;break}r.mode=I;break;case B:for(;ct<14;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(r.nlen=257+(31&at),at>>>=5,ct-=5,r.ndist=1+(31&at),at>>>=5,ct-=5,r.ncode=4+(15&at),at>>>=4,ct-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=K;break}r.have=0,r.mode=U;case U:for(;r.have<r.ncode;){for(;ct<3;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.lens[Ct[r.have++]]=7&at,at>>>=3,ct-=3}for(;r.have<19;)r.lens[Ct[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,St={bits:r.lenbits},Et=a(c,r.lens,0,19,r.lencode,0,r.work,St),r.lenbits=St.bits,Et){t.msg="invalid code lengths set",r.mode=K;break}r.have=0,r.mode=z;case z:for(;r.have<r.nlen+r.ndist;){for(;_t=(Tt=r.lencode[at&(1<<r.lenbits)-1])>>>16&255,bt=65535&Tt,!((yt=Tt>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(bt<16)at>>>=yt,ct-=yt,r.lens[r.have++]=bt;else{if(16===bt){for(Ot=yt+2;ct<Ot;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(at>>>=yt,ct-=yt,0===r.have){t.msg="invalid bit length repeat",r.mode=K;break}kt=r.lens[r.have-1],dt=3+(3&at),at>>>=2,ct-=2}else if(17===bt){for(Ot=yt+3;ct<Ot;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}ct-=yt,kt=0,dt=3+(7&(at>>>=yt)),at>>>=3,ct-=3}else{for(Ot=yt+7;ct<Ot;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}ct-=yt,kt=0,dt=11+(127&(at>>>=yt)),at>>>=7,ct-=7}if(r.have+dt>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=K;break}for(;dt--;)r.lens[r.have++]=kt}}if(r.mode===K)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=K;break}if(r.lenbits=9,St={bits:r.lenbits},Et=a(u,r.lens,0,r.nlen,r.lencode,0,r.work,St),r.lenbits=St.bits,Et){t.msg="invalid literal/lengths set",r.mode=K;break}if(r.distbits=6,r.distcode=r.distdyn,St={bits:r.distbits},Et=a(h,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,St),r.distbits=St.bits,Et){t.msg="invalid distances set",r.mode=K;break}if(r.mode=H,e===d)break t;case H:r.mode=q;case q:if(ot>=6&&st>=258){t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=ot,r.hold=at,r.bits=ct,s(t,ht),it=t.next_out,et=t.output,st=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,at=r.hold,ct=r.bits,r.mode===I&&(r.back=-1);break}for(r.back=0;_t=(Tt=r.lencode[at&(1<<r.lenbits)-1])>>>16&255,bt=65535&Tt,!((yt=Tt>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(_t&&0==(240&_t)){for(mt=yt,gt=_t,wt=bt;_t=(Tt=r.lencode[wt+((at&(1<<mt+gt)-1)>>mt)])>>>16&255,bt=65535&Tt,!(mt+(yt=Tt>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}at>>>=mt,ct-=mt,r.back+=mt}if(at>>>=yt,ct-=yt,r.back+=yt,r.length=bt,0===_t){r.mode=X;break}if(32&_t){r.back=-1,r.mode=I;break}if(64&_t){t.msg="invalid literal/length code",r.mode=K;break}r.extra=15&_t,r.mode=F;case F:if(r.extra){for(Ot=r.extra;ct<Ot;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.length+=at&(1<<r.extra)-1,at>>>=r.extra,ct-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Y;case Y:for(;_t=(Tt=r.distcode[at&(1<<r.distbits)-1])>>>16&255,bt=65535&Tt,!((yt=Tt>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(0==(240&_t)){for(mt=yt,gt=_t,wt=bt;_t=(Tt=r.distcode[wt+((at&(1<<mt+gt)-1)>>mt)])>>>16&255,bt=65535&Tt,!(mt+(yt=Tt>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}at>>>=mt,ct-=mt,r.back+=mt}if(at>>>=yt,ct-=yt,r.back+=yt,64&_t){t.msg="invalid distance code",r.mode=K;break}r.offset=bt,r.extra=15&_t,r.mode=W;case W:if(r.extra){for(Ot=r.extra;ct<Ot;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}r.offset+=at&(1<<r.extra)-1,at>>>=r.extra,ct-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=K;break}r.mode=V;case V:if(0===st)break t;if(dt=ht-st,r.offset>dt){if((dt=r.offset-dt)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=K;break}dt>r.wnext?(dt-=r.wnext,pt=r.wsize-dt):pt=r.wnext-dt,dt>r.length&&(dt=r.length),vt=r.window}else vt=et,pt=it-r.offset,dt=r.length;dt>st&&(dt=st),st-=dt,r.length-=dt;do{et[it++]=vt[pt++]}while(--dt);0===r.length&&(r.mode=q);break;case X:if(0===st)break t;et[it++]=r.length,st--,r.mode=q;break;case G:if(r.wrap){for(;ct<32;){if(0===ot)break t;ot--,at|=tt[rt++]<<ct,ct+=8}if(ht-=st,t.total_out+=ht,r.total+=ht,ht&&(t.adler=r.check=r.flags?o(r.check,et,ht,it-ht):i(r.check,et,ht,it-ht)),ht=st,(r.flags?at:nt(at))!==r.check){t.msg="incorrect data check",r.mode=K;break}at=0,ct=0}r.mode=Z;case Z:if(r.wrap&&r.flags){for(;ct<32;){if(0===ot)break t;ot--,at+=tt[rt++]<<ct,ct+=8}if(at!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=K;break}at=0,ct=0}r.mode=$;case $:Et=v;break t;case K:Et=b;break t;case J:return m;case Q:default:return _}return t.next_out=it,t.avail_out=st,t.next_in=rt,t.avail_in=ot,r.hold=at,r.bits=ct,(r.wsize||ht!==t.avail_out&&r.mode<K&&(r.mode<G||e!==l))&&ft(t,t.output,t.next_out,ht-t.avail_out)?(r.mode=J,m):(ut-=t.avail_in,ht-=t.avail_out,t.total_in+=ut,t.total_out+=ht,r.total+=ht,r.wrap&&ht&&(t.adler=r.check=r.flags?o(r.check,et,ht,t.next_out-ht):i(r.check,et,ht,t.next_out-ht)),t.data_type=r.bits+(r.last?64:0)+(r.mode===I?128:0)+(r.mode===H||r.mode===M?256:0),(0===ut&&0===ht||e===l)&&Et===p&&(Et=g),Et)},e.inflateEnd=function(t){if(!t||!t.state)return _;var e=t.state;return e.window&&(e.window=null),t.state=null,p},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?_:(r.head=e,e.done=!1,p):_},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&r.mode!==j?_:r.mode===j&&i(1,e,n,0)!==r.check?b:ft(t,e,n,n)?(r.mode=J,m):(r.havedict=1,p):_},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){"use strict";var n=r(53),i=r(3),o=r(19),s=r(17),a=r(9),c=r(18),u=r(50),h=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==s.Z_OK)throw new Error(a[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[r])}function f(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}l.prototype.push=function(t,e){var r,a,c,u,l,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,v=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(r=n.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===v&&(r=s.Z_OK,v=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),u=f.next_out-c,l=o.buf2string(f.output,c),f.next_out=u,f.avail_out=d-u,u&&i.arraySet(f.output,f.output,c,u,0),this.onData(l)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(v=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,r){"use strict";var n=r(3),i=4,o=0,s=1,a=2;function c(t){for(var e=t.length;--e>=0;)t[e]=0}var u=0,h=1,l=2,f=29,d=256,p=d+1+f,v=30,y=19,_=2*p+1,b=15,m=16,g=7,w=256,k=16,E=17,S=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(p+2));c(R);var x=new Array(2*v);c(x);var N=new Array(512);c(N);var j=new Array(256);c(j);var I=new Array(f);c(I);var D,L,M,P=new Array(v);function B(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function z(t){return t<256?N[t]:N[256+(t>>>7)]}function H(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function q(t,e,r){t.bi_valid>m-r?(t.bi_buf|=e<<t.bi_valid&65535,H(t,t.bi_buf),t.bi_buf=e>>m-t.bi_valid,t.bi_valid+=r-m):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function F(t,e,r){q(t,r[2*e],r[2*e+1])}function Y(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function W(t,e,r){var n,i,o=new Array(b+1),s=0;for(n=1;n<=b;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=Y(o[a]++,a))}}function V(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function X(t){t.bi_valid>8?H(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function Z(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&G(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!G(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function $(t,e,r){var n,i,o,s,a=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===n?F(t,i,e):(F(t,(o=j[i])+d+1,e),0!==(s=O[o])&&q(t,i-=I[o],s),F(t,o=z(--n),r),0!==(s=T[o])&&q(t,n-=P[o],s))}while(a<t.last_lit);F(t,w,e)}function K(t,e){var r,n,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<c;r++)0!==o[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)Z(t,o,r);i=c;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Z(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,Z(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,s,a,c=e.dyn_tree,u=e.max_code,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=b;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)(o=c[2*c[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,v++),c[2*n+1]=o,n>u||(t.bl_count[o]++,s=0,n>=d&&(s=f[n-d]),a=c[2*n],t.opt_len+=a*(o+s),l&&(t.static_len+=a*(h[2*n+1]+s)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>u||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),n--)}}(t,e),W(o,u,t.bl_count)}function J(t,e,r){var n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*k]++):a<=10?t.bl_tree[2*E]++:t.bl_tree[2*S]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function Q(t,e,r){var n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<u)do{F(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(F(t,i,t.bl_tree),a--),F(t,k,t.bl_tree),q(t,a-3,2)):a<=10?(F(t,E,t.bl_tree),q(t,a-3,3)):(F(t,S,t.bl_tree),q(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}c(P);var tt=!1;function et(t,e,r,i){q(t,(u<<1)+(i?1:0),3),function(t,e,r,i){X(t),i&&(H(t,r),H(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}e._tr_init=function(t){tt||(function(){var t,e,r,n,i,o=new Array(b+1);for(r=0,n=0;n<f-1;n++)for(I[n]=r,t=0;t<1<<O[n];t++)j[r++]=n;for(j[r-1]=n,i=0,n=0;n<16;n++)for(P[n]=i,t=0;t<1<<T[n];t++)N[i++]=n;for(i>>=7;n<v;n++)for(P[n]=i<<7,t=0;t<1<<T[n]-7;t++)N[256+i++]=n;for(e=0;e<=b;e++)o[e]=0;for(t=0;t<=143;)R[2*t+1]=8,t++,o[8]++;for(;t<=255;)R[2*t+1]=9,t++,o[9]++;for(;t<=279;)R[2*t+1]=7,t++,o[7]++;for(;t<=287;)R[2*t+1]=8,t++,o[8]++;for(W(R,p+1,o),t=0;t<v;t++)x[2*t+1]=5,x[2*t]=Y(t,5);D=new B(R,O,d+1,p,b),L=new B(x,T,0,v,b),M=new B(new Array(0),A,0,y,g)}(),tt=!0),t.l_desc=new U(t.dyn_ltree,D),t.d_desc=new U(t.dyn_dtree,L),t.bl_desc=new U(t.bl_tree,M),t.bi_buf=0,t.bi_valid=0,V(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,r,n){var c,u,f=0;t.level>0?(t.strm.data_type===a&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return s;return o}(t)),K(t,t.l_desc),K(t,t.d_desc),f=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),K(t,t.bl_desc),e=y-1;e>=3&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),c=t.opt_len+3+7>>>3,(u=t.static_len+3+7>>>3)<=c&&(c=u)):c=u=r+5,r+4<=c&&-1!==e?et(t,e,r,n):t.strategy===i||u===c?(q(t,(h<<1)+(n?1:0),3),$(t,R,x)):(q(t,(l<<1)+(n?1:0),3),function(t,e,r,n){var i;for(q(t,e-257,5),q(t,r-1,5),q(t,n-4,4),i=0;i<n;i++)q(t,t.bl_tree[2*C[i]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),$(t,t.dyn_ltree,t.dyn_dtree)),V(t),n&&X(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(j[r]+d+1)]++,t.dyn_dtree[2*z(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){q(t,h<<1,3),F(t,w,R),function(t){16===t.bi_valid?(H(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,r){"use strict";var n,i=r(3),o=r(55),s=r(21),a=r(20),c=r(9),u=0,h=1,l=3,f=4,d=5,p=0,v=1,y=-2,_=-3,b=-5,m=-1,g=1,w=2,k=3,E=4,S=0,O=2,T=8,A=9,C=15,R=8,x=286,N=30,j=19,I=2*x+1,D=15,L=3,M=258,P=M+L+1,B=32,U=42,z=69,H=73,q=91,F=103,Y=113,W=666,V=1,X=2,G=3,Z=4,$=3;function K(t,e){return t.msg=c[e],e}function J(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function rt(t,e){t.pending_buf[t.pending++]=e}function nt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e,r,n){var o=t.avail_in;return o>n&&(o=n),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,r),1===t.state.wrap?t.adler=s(t.adler,e,o,r):2===t.state.wrap&&(t.adler=a(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)}function ot(t,e){var r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-P?t.strstart-(t.w_size-P):0,u=t.window,h=t.w_mask,l=t.prev,f=t.strstart+M,d=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(r=e)+s]===p&&u[r+s-1]===d&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<f);if(n=M-(f-o),o=f-M,n>s){if(t.match_start=e,s=n,n>=a)break;d=u[o+s-1],p=u[o+s]}}}while((e=l[e&h])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead}function st(t){var e,r,n,o,s,a=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-P)){i.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=a?n-a:0}while(--r);e=r=a;do{n=t.prev[--e],t.prev[e]=n>=a?n-a:0}while(--r);o+=a}if(0===t.strm.avail_in)break;if(r=it(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=L)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+L-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<L)););}while(t.lookahead<P&&0!==t.strm.avail_in)}function at(t,e){for(var r,n;;){if(t.lookahead<P){if(st(t),t.lookahead<P&&e===u)return V;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-P&&(t.match_length=ot(t,r)),t.match_length>=L)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),0===t.strm.avail_out))return V}return t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(et(t,!0),0===t.strm.avail_out?G:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?V:X}function ct(t,e){for(var r,n,i;;){if(t.lookahead<P){if(st(t),t.lookahead<P&&e===u)return V;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-P&&(t.match_length=ot(t,r),t.match_length<=5&&(t.strategy===g||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-L,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return V}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return V}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(et(t,!0),0===t.strm.avail_out?G:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?V:X}function ut(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function ht(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=O,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:Y,t.adler=2===e.wrap?0:1,e.last_flush=u,o._tr_init(e),p):K(t,y)}function lt(t){var e=ht(t);return e===p&&function(t){t.window_size=2*t.w_size,Q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=L-1,t.match_available=0,t.ins_h=0}(t.state),e}function ft(t,e,r,n,o,s){if(!t)return y;var a=1;if(e===m&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>A||r!==T||n<8||n>15||e<0||e>9||s<0||s>E)return K(t,y);8===n&&(n=9);var c=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*I),this.dyn_dtree=new i.Buf16(2*(2*N+1)),this.bl_tree=new i.Buf16(2*(2*j+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(D+1),this.heap=new i.Buf16(2*x+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*x+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+L-1)/L),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=s,c.method=r,lt(t)}n=[new ut(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),0===t.lookahead&&e===u)return V;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,et(t,!1),0===t.strm.avail_out))return V;if(t.strstart-t.block_start>=t.w_size-P&&(et(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?G:Z):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),V)}),new ut(4,4,8,4,at),new ut(4,5,16,8,at),new ut(4,6,32,32,at),new ut(4,4,16,16,ct),new ut(8,16,32,32,ct),new ut(8,16,128,128,ct),new ut(8,32,128,256,ct),new ut(32,128,258,1024,ct),new ut(32,258,258,4096,ct)],e.deflateInit=function(t,e){return ft(t,e,T,C,R,S)},e.deflateInit2=ft,e.deflateReset=lt,e.deflateResetKeep=ht,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?y:(t.state.gzhead=e,p):y},e.deflate=function(t,e){var r,i,s,c;if(!t||!t.state||e>d||e<0)return t?K(t,y):y;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===W&&e!==f)return K(t,0===t.avail_out?b:y);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===U)if(2===i.wrap)t.adler=0,rt(i,31),rt(i,139),rt(i,8),i.gzhead?(rt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),rt(i,255&i.gzhead.time),rt(i,i.gzhead.time>>8&255),rt(i,i.gzhead.time>>16&255),rt(i,i.gzhead.time>>24&255),rt(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),rt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(rt(i,255&i.gzhead.extra.length),rt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=z):(rt(i,0),rt(i,0),rt(i,0),rt(i,0),rt(i,0),rt(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),rt(i,$),i.status=Y);else{var _=T+(i.w_bits-8<<4)<<8;_|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(_|=B),_+=31-_%31,i.status=Y,nt(i,_),0!==i.strstart&&(nt(i,t.adler>>>16),nt(i,65535&t.adler)),t.adler=1}if(i.status===z)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),tt(t),s=i.pending,i.pending!==i.pending_buf_size));)rt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=H)}else i.status=H;if(i.status===H)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),tt(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,rt(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=q)}else i.status=q;if(i.status===q)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),tt(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,rt(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=F)}else i.status=F;if(i.status===F&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(rt(i,255&t.adler),rt(i,t.adler>>8&255),t.adler=0,i.status=Y)):i.status=Y),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,p}else if(0===t.avail_in&&J(e)<=J(r)&&e!==f)return K(t,b);if(i.status===W&&0!==t.avail_in)return K(t,b);if(0!==t.avail_in||0!==i.lookahead||e!==u&&i.status!==W){var m=i.strategy===w?function(t,e){for(var r;;){if(0===t.lookahead&&(st(t),0===t.lookahead)){if(e===u)return V;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?G:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?V:X}(i,e):i.strategy===k?function(t,e){for(var r,n,i,s,a=t.window;;){if(t.lookahead<=M){if(st(t),t.lookahead<=M&&e===u)return V;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(n=a[i=t.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=t.strstart+M;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);t.match_length=M-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(r=o._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(et(t,!1),0===t.strm.avail_out))return V}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?G:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?V:X}(i,e):n[i.level].func(i,e);if(m!==G&&m!==Z||(i.status=W),m===V||m===G)return 0===t.avail_out&&(i.last_flush=-1),p;if(m===X&&(e===h?o._tr_align(i):e!==d&&(o._tr_stored_block(i,0,0,!1),e===l&&(Q(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,p}return e!==f?p:i.wrap<=0?v:(2===i.wrap?(rt(i,255&t.adler),rt(i,t.adler>>8&255),rt(i,t.adler>>16&255),rt(i,t.adler>>24&255),rt(i,255&t.total_in),rt(i,t.total_in>>8&255),rt(i,t.total_in>>16&255),rt(i,t.total_in>>24&255)):(nt(i,t.adler>>>16),nt(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:v)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&e!==z&&e!==H&&e!==q&&e!==F&&e!==Y&&e!==W?K(t,y):(t.state=null,e===Y?K(t,_):p):y},e.deflateSetDictionary=function(t,e){var r,n,o,a,c,u,h,l,f=e.length;if(!t||!t.state)return y;if(2===(a=(r=t.state).wrap)||1===a&&r.status!==U||r.lookahead)return y;for(1===a&&(t.adler=s(t.adler,e,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new i.Buf8(r.w_size),i.arraySet(l,e,f-r.w_size,r.w_size,0),e=l,f=r.w_size),c=t.avail_in,u=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,st(r);r.lookahead>=L;){n=r.strstart,o=r.lookahead-(L-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+L-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=L-1,st(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=L-1,r.match_available=0,t.next_in=u,t.input=h,t.avail_in=c,r.wrap=a,p},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,r){"use strict";var n=r(56),i=r(3),o=r(19),s=r(9),a=r(18),c=Object.prototype.toString,u=0,h=-1,l=0,f=8;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==u)throw new Error(s[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==u)throw new Error(s[r]);this._dict_set=!0}}function p(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(t,e){var r,s,a=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(h),a.next_out=0,a.avail_out=h),1!==(r=n.deflate(a,s))&&r!==u)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===s?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===u):2!==s||(this.onEnd(u),a.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=d,e.deflate=p,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},function(t,e){t.exports=function(t,e){for(var r=[],n=(e=e||0)||0;n<t.length;n++)r[n-e]=t[n];return r}},function(t,e){},function(t,e,r){(function(e){var n,i=r(11),o=r(4),s=r(7),a=r(6),c=r(27),u=(r(2)("engine.io-client:websocket"),e.WebSocket||e.MozWebSocket);if("undefined"==typeof window)try{n=r(60)}catch(t){}var h=u;function l(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=u&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=n),i.call(this,t)}h||"undefined"!=typeof window||(h=n),t.exports=l,a(l,i),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},l.prototype.write=function(t){var r=this;this.writable=!1;for(var n=t.length,i=0,s=n;i<s;i++)!function(t){o.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),r.perMessageDeflate)("string"==typeof i?e.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(o.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,o)}catch(t){}--n||a()})}(t[i]);function a(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}},l.prototype.onClose=function(){i.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t},l.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===l.prototype.name)}}).call(this,r(0))},function(t,e,r){(function(e){var n=r(28),i=r(6);t.exports=u;var o,s=/\n/g,a=/\\n/g;function c(){}function u(t){n.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var r=this;o.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=c)},!1)}i(u,n),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var r=this;if(!this.form){var n,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){h(),e()}function h(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),h(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,r(0))},function(t,e){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function s(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var r=new Uint8Array(t.byteLength);r.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=r.buffer}return e}return t})}function a(t,e){e=e||{};var n=new r;return s(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function c(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=n?i?Blob:c:o?a:void 0},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(3&n[r])<<4|n[r+1]>>4],o+=t[(15&n[r+1])<<2|n[r+2]>>6],o+=t[63&n[r+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,n,i,o,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),l=new Uint8Array(h);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],i=r[t.charCodeAt(e+1)],o=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],l[u++]=n<<2|i>>4,l[u++]=(15&i)<<4|o>>2,l[u++]=(3&o)<<6|63&s;return h}}()},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var r,n,i,o=String.fromCharCode;function s(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return o(t);var r="";return 0==(4294965248&t)?r=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),r=o(t>>12&15|224),r+=c(t,6)):0==(4292870144&t)&&(r=o(t>>18&7|240),r+=c(t,12),r+=c(t,6)),r+=o(63&t|128)}function h(){if(i>=n)throw Error("Invalid byte index");var t=255&r[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var e,o;if(i>n)throw Error("Invalid byte index");if(i==n)return!1;if(e=255&r[i],i++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|h())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|h()<<6|h())>=2048)return a(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|h()<<12|h()<<6|h())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var r=!1!==(e=e||{}).strict,n=s(t),i=n.length,o=-1,a="";++o<i;)a+=u(n[o],r);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;r=s(t),n=r.length,i=0;for(var c,u=[];!1!==(c=l(a));)u.push(c);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(u)}}},function(t,e){function r(){}t.exports=function(t,e,n){var i=!1;return n=n||r,o.count=t,0===t?e():o;function o(t,r){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}}},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){var n=r(12),i=r(28),o=r(10),s=r(6);r(2)("engine.io-client:polling-xhr");function a(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}t.exports=c,t.exports.Request=u,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},c.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},c.prototype.doPoll=function(){var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new n(t),i=this;try{r.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){i.onLoad()},r.onerror=function(){i.onError(r.responseText)}):r.onreadystatechange=function(){if(2===r.readyState)try{var t=r.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(r.responseType="arraybuffer")}catch(t){}4===r.readyState&&(200===r.status||1223===r.status?i.onLoad():setTimeout(function(){i.onError(r.status)},0))},r.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,t)try{this.xhr.abort()}catch(t){}e.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},u.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",h):e.addEventListener&&e.addEventListener("beforeunload",h,!1))}).call(this,r(0))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){var n=r(29),i=r(10),o=(r(2)("engine.io-client:socket"),r(26)),s=r(4),a=r(34),c=r(7);function u(t,r){if(!(this instanceof u))return new u(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=a(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=a(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n="object"==typeof e&&e;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=u,u.priorWebsocketSuccess=!1,i(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=r(11),u.transports=r(29),u.parser=r(4),u.prototype.createTransport=function(t){var e=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var r=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new n[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0})},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},u.prototype.probe=function(t){var e=this.createTransport(t,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var t=!this.supportsBinary&&n.transport.supportsBinary;r=r||t}r||(e.send([{type:"ping",data:"probe"}]),e.once("packet",function(t){if(!r)if("pong"===t.type&&"probe"===t.data){if(n.upgrading=!0,n.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,n.transport.pause(function(){r||"closed"!==n.readyState&&(l(),n.setTransport(e),e.send([{type:"upgrade"}]),n.emit("upgrade",e),e=null,n.upgrading=!1,n.flush())})}else{var i=new Error("probe error");i.transport=e.name,n.emit("upgradeError",i)}}))}function o(){r||(r=!0,l(),e.close(),e=null)}function s(t){var r=new Error("probe error: "+t);r.transport=e.name,o(),n.emit("upgradeError",r)}function a(){s("transport closed")}function c(){s("socket closed")}function h(t){e&&t.name!==e.name&&o()}function l(){e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",a),n.removeListener("close",c),n.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",h),e.open()},u.prototype.onOpen=function(){if(this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},u.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:t,data:e,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}function e(){t.onClose("forced close"),t.transport.close()}function r(){t.removeListener("upgrade",r),t.removeListener("upgradeError",r),e()}function n(){t.once("upgrade",r),t.once("upgradeError",r)}return this},u.prototype.onError=function(t){u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~o(this.transports,t[r])&&e.push(t[r]);return e}}).call(this,r(0))},function(t,e,r){t.exports=r(71),t.exports.parser=r(4)},function(t,e,r){(function(t){var n=r(32),i=r(31),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.deconstructPacket=function(t){var e=[],r=t.data,o=t;return o.data=function t(e,r){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:r.length};return r.push(e),o}if(n(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],r);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var c in e)s[c]=t(e[c],r);return s}return e}(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,r){if(!e)return e;if(e&&e._placeholder)return r[e.num];if(n(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],r);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],r);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var r=0,o=t;!function t(c,u,h){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){r++;var l=new FileReader;l.onload=function(){h?h[u]=this.result:o=this.result,--r||e(o)},l.readAsArrayBuffer(c)}else if(n(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!i(c))for(var d in c)t(c[d],d,c)}(o),r||e(o)}}).call(this,r(0))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,h=-7,l=r?i-1:0,f=r?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*c-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*v}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(15),i=r(76),o=r(75);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|d(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,i){var o,s=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){l=!1;break}if(l)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function m(t,e,r,n){return q(z(e,t.length-r),t,r,n)}function g(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return g(t,e,r,n)}function k(t,e,r,n){return q(H(e),t,r,n)}function E(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,c,u=t[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=r)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return u(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return h(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),u=this.slice(n,i),h=t.slice(e,r),l=0;l<a;++l)if(u[l]!==h[l]){o=u[l],s=h[l];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return g(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=U(t[o]);return i}function x(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(t,e,r,n,o){return o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function P(t,e,r,n,o){return o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||N(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||N(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);j(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);j(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=c.isBuffer(t)?t:z(new c(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(0))},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(e){var n=r(34);r(2)("socket.io-client:url");t.exports=function(t,r){var i=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==r?r.protocol+"//"+t:"https://"+t),i=n(t));i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443"));i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port,i.href=i.protocol+"://"+o+(r&&r.port===i.port?"":":"+i.port),i}}).call(this,r(0))},function(t,e){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){r.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),r.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=r},function(t,e,r){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var r=e.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(t[n]=i),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var r=e.split(/ *; */),n=r[0].slice(1,-1);return t[r[1].split(/ *= */)[1].slice(1,-1)]=n,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e,r){"use strict";var n=r(81);function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=n.type(e);var r=n.params(e);for(var i in r)this[i]=r[i];this.links={};try{t.link&&(this.links=n.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,r){"use strict";(function(e){var n=r(35);function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(t){return this._responseType=t,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},i.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(t,r){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new e(function(t,e){n.end(function(r,n){r?e(r):t(n)})})}return this._fullfilledPromise.then(t,r)},i.prototype.catch=function(t){return this.then(void 0,t)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},i.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},i.prototype.get=function(t){return this._header[t.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(t,e){if(n(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),n(t)){for(var r in t)this.field(r,t[r]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},i.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},i.prototype.redirects=function(t){return this._maxRedirects=t,this},i.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(t){var e=n(t),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&n(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(r||this.type("json"),this)},i.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},i.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.substring(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,e)+"?"+r.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},i.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}}).call(this,r(14).Promise)},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}}]);